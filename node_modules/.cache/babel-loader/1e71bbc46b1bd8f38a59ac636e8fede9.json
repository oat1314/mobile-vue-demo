{"remainingRequest":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\babel-loader\\lib\\index.js??ref--29-1!F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\cube-ui\\src\\components\\upload\\ajax.js","dependencies":[{"path":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\cube-ui\\src\\components\\upload\\ajax.js","mtime":499162500000},{"path":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLm5vdyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycyI7CmltcG9ydCB7IGV2YWxPcHRzLCBTVEFUVVNfU1VDQ0VTUywgU1RBVFVTX1VQTE9BRElORywgU1RBVFVTX0VSUk9SIH0gZnJvbSAnLi91dGlsJzsKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWpheFVwbG9hZChmaWxlLCBvcHRpb25zLCBjaGFuZ2VIYW5kbGVyKSB7CiAgdmFyIHRhcmdldCA9IG9wdGlvbnMudGFyZ2V0LAogICAgICBfb3B0aW9ucyRoZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzLAogICAgICBoZWFkZXJzID0gX29wdGlvbnMkaGVhZGVycyA9PT0gdm9pZCAwID8ge30gOiBfb3B0aW9ucyRoZWFkZXJzLAogICAgICBfb3B0aW9ucyRkYXRhID0gb3B0aW9ucy5kYXRhLAogICAgICBkYXRhID0gX29wdGlvbnMkZGF0YSA9PT0gdm9pZCAwID8ge30gOiBfb3B0aW9ucyRkYXRhLAogICAgICBfb3B0aW9ucyRmaWxlTmFtZSA9IG9wdGlvbnMuZmlsZU5hbWUsCiAgICAgIGZpbGVOYW1lID0gX29wdGlvbnMkZmlsZU5hbWUgPT09IHZvaWQgMCA/ICdmaWxlJyA6IF9vcHRpb25zJGZpbGVOYW1lLAogICAgICB3aXRoQ3JlZGVudGlhbHMgPSBvcHRpb25zLndpdGhDcmVkZW50aWFscywKICAgICAgdGltZW91dCA9IG9wdGlvbnMudGltZW91dCwKICAgICAgX29wdGlvbnMkcHJvcCA9IG9wdGlvbnMucHJvcCwKICAgICAgcHJvcCA9IF9vcHRpb25zJHByb3AgPT09IHZvaWQgMCA/ICdmaWxlJyA6IF9vcHRpb25zJHByb3AsCiAgICAgIF9vcHRpb25zJHByb2dyZXNzSW50ZSA9IG9wdGlvbnMucHJvZ3Jlc3NJbnRlcnZhbCwKICAgICAgcHJvZ3Jlc3NJbnRlcnZhbCA9IF9vcHRpb25zJHByb2dyZXNzSW50ZSA9PT0gdm9pZCAwID8gMTAwIDogX29wdGlvbnMkcHJvZ3Jlc3NJbnRlLAogICAgICBfb3B0aW9ucyRjaGVja1N1Y2Nlc3MgPSBvcHRpb25zLmNoZWNrU3VjY2VzcywKICAgICAgY2hlY2tTdWNjZXNzID0gX29wdGlvbnMkY2hlY2tTdWNjZXNzID09PSB2b2lkIDAgPyBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdHJ1ZTsKICB9IDogX29wdGlvbnMkY2hlY2tTdWNjZXNzOwogIHZhciByZWFsVGFyZ2V0ID0gZXZhbE9wdHModGFyZ2V0LCBmaWxlKTsKICBmaWxlLnByb2dyZXNzID0gMDsKICBmaWxlLnN0YXR1cyA9IFNUQVRVU19VUExPQURJTkc7CiAgdmFyIHhociA9IG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QoKTsKICBmaWxlLl94aHIgPSB4aHI7CiAgdmFyIHByb2dyZXNzVGlkID0gMDsKCiAgaWYgKHhoci51cGxvYWQpIHsKICAgIHZhciBsYXN0UHJvZ3Jlc3NUaW1lID0gRGF0ZS5ub3coKTsKCiAgICB4aHIudXBsb2FkLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiAoZSkgewogICAgICBpZiAoZS50b3RhbCA+IDApIHsKICAgICAgICBpZiAocHJvZ3Jlc3NUaWQpIHsKICAgICAgICAgIGNsZWFyVGltZW91dChwcm9ncmVzc1RpZCk7CiAgICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTsKICAgICAgICAgIHZhciBkaWZmID0gbm93IC0gbGFzdFByb2dyZXNzVGltZTsKCiAgICAgICAgICBpZiAoZGlmZiA+PSBwcm9ncmVzc0ludGVydmFsKSB7CiAgICAgICAgICAgIGNvbXB1dGVkKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwcm9ncmVzc1RpZCA9IHNldFRpbWVvdXQoY29tcHV0ZWQsIGRpZmYpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBmaXJzdCB0aW1lCiAgICAgICAgICBjb21wdXRlZCgpOwogICAgICAgICAgcHJvZ3Jlc3NUaWQgPSAxOwogICAgICAgIH0KICAgICAgfQoKICAgICAgZnVuY3Rpb24gY29tcHV0ZWQoKSB7CiAgICAgICAgZmlsZS5wcm9ncmVzcyA9IGUubG9hZGVkIC8gZS50b3RhbDsKICAgICAgICBsYXN0UHJvZ3Jlc3NUaW1lID0gRGF0ZS5ub3coKTsKICAgICAgfQogICAgfTsKICB9CgogIHZhciBmb3JtRGF0YSA9IG5ldyB3aW5kb3cuRm9ybURhdGEoKTsKICB2YXIgcmVhbERhdGEgPSBldmFsT3B0cyhkYXRhLCBmaWxlKTsKICBPYmplY3Qua2V5cyhyZWFsRGF0YSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICBmb3JtRGF0YS5hcHBlbmQoa2V5LCByZWFsRGF0YVtrZXldKTsKICB9KTsKICBmb3JtRGF0YS5hcHBlbmQoZmlsZU5hbWUsIGZpbGVbcHJvcF0pOwoKICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgaWYgKHhoci5zdGF0dXMgPCAyMDAgfHwgeGhyLnN0YXR1cyA+PSAzMDApIHsKICAgICAgc2V0U3RhdHVzKFNUQVRVU19FUlJPUik7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBzZXRSZXNwb25zZSgpOwogICAgdmFyIHJlc3BvbnNlID0gZmlsZS5yZXNwb25zZTsKCiAgICBpZiAoY2hlY2tTdWNjZXNzLmxlbmd0aCA8PSAyKSB7CiAgICAgIHZhciBpc1N1Y2Nlc3MgPSBjaGVja1N1Y2Nlc3MocmVzcG9uc2UsIGZpbGUpOwogICAgICBzZXRTdGF0dXMoaXNTdWNjZXNzID8gU1RBVFVTX1NVQ0NFU1MgOiBTVEFUVVNfRVJST1IpOwogICAgfSBlbHNlIHsKICAgICAgLy8gY2FsbGJhY2sKICAgICAgY2hlY2tTdWNjZXNzKHJlc3BvbnNlLCBmaWxlLCBmdW5jdGlvbiAoaXNTdWNjZXNzKSB7CiAgICAgICAgc2V0U3RhdHVzKGlzU3VjY2VzcyA/IFNUQVRVU19TVUNDRVNTIDogU1RBVFVTX0VSUk9SKTsKICAgICAgfSk7CiAgICB9CiAgfTsKCiAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7CiAgICBzZXRSZXNwb25zZSgpOwogICAgc2V0U3RhdHVzKFNUQVRVU19FUlJPUik7CiAgfTsKCiAgeGhyLm9udGltZW91dCA9IGZ1bmN0aW9uICgpIHsKICAgIHNldFJlc3BvbnNlKCk7CiAgICBzZXRTdGF0dXMoU1RBVFVTX0VSUk9SKTsKICB9OwoKICB4aHIub3BlbignUE9TVCcsIHJlYWxUYXJnZXQsIHRydWUpOwoKICBpZiAod2l0aENyZWRlbnRpYWxzKSB7CiAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTsKICB9CgogIHZhciByZWFsSGVhZGVycyA9IGV2YWxPcHRzKGhlYWRlcnMsIGZpbGUpOwogIE9iamVjdC5rZXlzKHJlYWxIZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgcmVhbEhlYWRlcnNba2V5XSk7CiAgfSk7CgogIGlmICh0aW1lb3V0ID4gMCkgewogICAgeGhyLnRpbWVvdXQgPSB0aW1lb3V0OwogIH0KCiAgeGhyLnNlbmQoZm9ybURhdGEpOwoKICBmdW5jdGlvbiBzZXRTdGF0dXMoc3RhdHVzKSB7CiAgICBjbGVhclRpbWVvdXQocHJvZ3Jlc3NUaWQpOwogICAgcHJvZ3Jlc3NUaWQgPSAwOwogICAgZmlsZS5wcm9ncmVzcyA9IDE7CiAgICBmaWxlLnN0YXR1cyA9IHN0YXR1czsKICAgIGNoYW5nZUhhbmRsZXIgJiYgY2hhbmdlSGFuZGxlcihmaWxlKTsKICB9CgogIGZ1bmN0aW9uIHNldFJlc3BvbnNlKCkgewogICAgdmFyIHJlc3BvbnNlID0geGhyLnJlc3BvbnNlVGV4dCB8fCB4aHIucmVzcG9uc2U7CgogICAgdHJ5IHsKICAgICAgcmVzcG9uc2UgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTsKICAgIH0gY2F0Y2ggKGUpIHt9CgogICAgZmlsZS5yZXNwb25zZSA9IHJlc3BvbnNlOwogICAgZmlsZS5yZXNwb25zZUhlYWRlcnMgPSB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCk7CiAgfQp9"},{"version":3,"sources":["F:/BaiduNetdiskDownload/思否/20年spring boot+vue课程源码/课程源码/00-前端-后端代码-数据库/xdclass_front/node_modules/cube-ui/src/components/upload/ajax.js"],"names":["evalOpts","STATUS_SUCCESS","STATUS_UPLOADING","STATUS_ERROR","ajaxUpload","file","options","changeHandler","target","headers","data","fileName","withCredentials","timeout","prop","progressInterval","checkSuccess","realTarget","progress","status","xhr","window","XMLHttpRequest","_xhr","progressTid","upload","lastProgressTime","Date","now","onprogress","e","total","clearTimeout","diff","computed","setTimeout","loaded","formData","FormData","realData","Object","keys","forEach","key","append","onload","setStatus","setResponse","response","length","isSuccess","onerror","ontimeout","open","realHeaders","setRequestHeader","send","responseText","JSON","parse","responseHeaders","getAllResponseHeaders"],"mappings":"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","sourcesContent":["import {\n  evalOpts,\n  STATUS_SUCCESS,\n  STATUS_UPLOADING,\n  STATUS_ERROR\n} from './util'\n\nexport default function ajaxUpload(file, options, changeHandler) {\n  const {\n    target,\n    headers = {},\n    data = {},\n    fileName = 'file',\n    withCredentials,\n    timeout,\n    prop = 'file',\n    progressInterval = 100,\n    checkSuccess = function () { return true }\n  } = options\n\n  const realTarget = evalOpts(target, file)\n\n  file.progress = 0\n  file.status = STATUS_UPLOADING\n\n  const xhr = new window.XMLHttpRequest()\n  file._xhr = xhr\n  let progressTid = 0\n  if (xhr.upload) {\n    let lastProgressTime = Date.now()\n    xhr.upload.onprogress = function (e) {\n      if (e.total > 0) {\n        if (progressTid) {\n          clearTimeout(progressTid)\n          const now = Date.now()\n          const diff = now - lastProgressTime\n          if (diff >= progressInterval) {\n            computed()\n          } else {\n            progressTid = setTimeout(computed, diff)\n          }\n        } else {\n          // first time\n          computed()\n          progressTid = 1\n        }\n      }\n      function computed() {\n        file.progress = e.loaded / e.total\n        lastProgressTime = Date.now()\n      }\n    }\n  }\n\n  const formData = new window.FormData()\n  const realData = evalOpts(data, file)\n  Object.keys(realData).forEach((key) => {\n    formData.append(key, realData[key])\n  })\n  formData.append(fileName, file[prop])\n\n  xhr.onload = function () {\n    if (xhr.status < 200 || xhr.status >= 300) {\n      setStatus(STATUS_ERROR)\n      return\n    }\n    setResponse()\n    const response = file.response\n\n    if (checkSuccess.length <= 2) {\n      const isSuccess = checkSuccess(response, file)\n      setStatus(isSuccess ? STATUS_SUCCESS : STATUS_ERROR)\n    } else {\n      // callback\n      checkSuccess(response, file, (isSuccess) => {\n        setStatus(isSuccess ? STATUS_SUCCESS : STATUS_ERROR)\n      })\n    }\n  }\n  xhr.onerror = function () {\n    setResponse()\n    setStatus(STATUS_ERROR)\n  }\n  xhr.ontimeout = function () {\n    setResponse()\n    setStatus(STATUS_ERROR)\n  }\n\n  xhr.open('POST', realTarget, true)\n  if (withCredentials) {\n    xhr.withCredentials = true\n  }\n  const realHeaders = evalOpts(headers, file)\n  Object.keys(realHeaders).forEach((key) => {\n    xhr.setRequestHeader(key, realHeaders[key])\n  })\n  if (timeout > 0) {\n    xhr.timeout = timeout\n  }\n\n  xhr.send(formData)\n  function setStatus(status) {\n    clearTimeout(progressTid)\n    progressTid = 0\n    file.progress = 1\n    file.status = status\n    changeHandler && changeHandler(file)\n  }\n  function setResponse() {\n    let response = xhr.responseText || xhr.response\n    try {\n      response = JSON.parse(response)\n    } catch (e) {}\n    file.response = response\n    file.responseHeaders = xhr.getAllResponseHeaders()\n  }\n}\n"]}]}