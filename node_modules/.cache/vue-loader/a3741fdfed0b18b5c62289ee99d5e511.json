{"remainingRequest":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\src\\views\\Login\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\src\\views\\Login\\Login.vue","mtime":1588323697000},{"path":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8v55m75b2V5o6l5Y+jCmltcG9ydCB7IGxvZ2luQXBpIH0gZnJvbSAiQC9hcGkvZ2V0RGF0YS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbW9kZWw6IHsKICAgICAgICBwaG9uZVZhbHVlOiAiIiwKICAgICAgICBwd2RWYWx1ZTogIiIKICAgICAgfSwKICAgICAgZmllbGRzOiBbCiAgICAgICAgewogICAgICAgICAgdHlwZTogImlucHV0IiwKICAgICAgICAgIG1vZGVsS2V5OiAicGhvbmVWYWx1ZSIsCiAgICAgICAgICBsYWJlbDogIuaJi+acuuWPtyIsCiAgICAgICAgICBwcm9wczogewogICAgICAgICAgICBwbGFjZWhvbGRlcjogIuivt+i+k+WFpeaJi+acuiIKICAgICAgICAgIH0sCiAgICAgICAgICBydWxlczogewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgICAgfSwKICAgICAgICAgIG1lc3NhZ2VzOiB7CiAgICAgICAgICAgIHJlcXVpcmVkOiAi5omL5py65Y+35LiN6IO95Li656m6IgogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdHlwZTogImlucHV0IiwKICAgICAgICAgIG1vZGVsS2V5OiAicHdkVmFsdWUiLAogICAgICAgICAgbGFiZWw6ICLlr4bnoIEiLAogICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICLor7fovpPlhaXlr4bnoIEiLAogICAgICAgICAgICB0eXBlOiAicGFzc3dvcmQiLAogICAgICAgICAgICBleWU6IHsKICAgICAgICAgICAgICBvcGVuOiBmYWxzZQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgcnVsZXM6IHsKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICAgIH0sCiAgICAgICAgICBtZXNzYWdlczogewogICAgICAgICAgICByZXF1aXJlZDogIuWvhueggeS4jeiDveS4uuepuiIKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIF0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXRIYW5kbGVyKGUsIG1vZGVsKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgLy/osIPnlKjms6jlhozmjqXlj6MKICAgICAgbG9naW5BcGkobW9kZWwucGhvbmVWYWx1ZSwgbW9kZWwucHdkVmFsdWUpLnRoZW4oCiAgICAgICAgcmVzID0+IHsKICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAwKSB7CiAgICAgICAgICAgIC8v55m75b2V5oiQ5Yqf77yM6Lez6L2s5Yiw5Liq5Lq65Lit5b+DCiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicscmVzLmRhdGEuZGF0YSkKICAgICAgICAgICAgCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXRUb2tlbicscmVzLmRhdGEuZGF0YSkKCiAgICAgICAgICAgIC8v6Lez6L2s6aG16Z2iLCDmoLnmja7kuJrliqHpnIDopoEKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6Jy9wZXJzb25hbCd9KQoKICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgY29uc3QgdG9hc3QgPSB0aGlzLiRjcmVhdGVUb2FzdCh7CiAgICAgICAgICAgICAgdHh0OiAi55m75b2V5aSx6LSlIiwKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIHRpbWU6IDE1MDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRvYXN0LnNob3coKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views/Login","sourcesContent":["<template>\n  <div class=\"main\">\n    <cube-form :model=\"model\" @submit=\"submitHandler\">\n      \n      <cube-form-group>\n       \n        <!--手机号-->\n        <cube-form-item :field=\"fields[0]\"></cube-form-item>\n        <!--密码-->\n        <cube-form-item :field=\"fields[1]\"></cube-form-item>\n      </cube-form-group>\n\n      <cube-form-group>\n        <cube-button type=\"submit\">登录</cube-button>\n      </cube-form-group>\n\n    </cube-form>\n    <router-link to=\"/register\" class=\"reg\">注册</router-link> \n  </div>\n</template>\n\n<script>\n//登录接口\nimport { loginApi } from \"@/api/getData.js\";\nexport default {\n  data() {\n    return {\n      model: {\n        phoneValue: \"\",\n        pwdValue: \"\"\n      },\n      fields: [\n        {\n          type: \"input\",\n          modelKey: \"phoneValue\",\n          label: \"手机号\",\n          props: {\n            placeholder: \"请输入手机\"\n          },\n          rules: {\n            required: true\n          },\n          messages: {\n            required: \"手机号不能为空\"\n          }\n        },\n        {\n          type: \"input\",\n          modelKey: \"pwdValue\",\n          label: \"密码\",\n          props: {\n            placeholder: \"请输入密码\",\n            type: \"password\",\n            eye: {\n              open: false\n            }\n          },\n          rules: {\n            required: true\n          },\n          messages: {\n            required: \"密码不能为空\"\n          }\n        }\n      ]\n    };\n  },\n  methods: {\n    submitHandler(e, model) {\n      e.preventDefault();\n      //调用注册接口\n      loginApi(model.phoneValue, model.pwdValue).then(\n        res => {\n          if (res.data.code === 0) {\n            //登录成功，跳转到个人中心\n            localStorage.setItem('token',res.data.data)\n            \n            this.$store.dispatch('setToken',res.data.data)\n\n            //跳转页面, 根据业务需要\n            this.$router.push({path:'/personal'})\n\n          }else{\n             const toast = this.$createToast({\n              txt: \"登录失败\",\n              type: \"error\",\n              time: 1500\n            });\n            toast.show();\n          }\n        }\n      );\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.main {\n  padding: 50px 5% 0;\n  text-align: center;\n}\n// 登录\n.cube-btn {\n  margin-top: 20px;\n}\n//注册\n.reg {\n  display: inline-block;\n  margin-top: 30px;\n  font-size: 18px;\n}\n</style>"]}]}