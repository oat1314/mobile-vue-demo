{"remainingRequest":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\cube-ui\\src\\components\\index-list\\index-list.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\cube-ui\\src\\components\\index-list\\index-list.vue","mtime":499162500000},{"path":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgZ2V0RGF0YSwKICBnZXRSZWN0LAogIHByZWZpeFN0eWxlLAogIGdldE1hdGNoZWRUYXJnZXQKfSBmcm9tICcuLi8uLi9jb21tb24vaGVscGVycy9kb20nCmltcG9ydCB7IGluQnJvd3NlciB9IGZyb20gJy4uLy4uL2NvbW1vbi9oZWxwZXJzL2VudicKCmltcG9ydCBDdWJlU2Nyb2xsIGZyb20gJy4uL3Njcm9sbC9zY3JvbGwudnVlJwppbXBvcnQgQ3ViZUluZGV4TGlzdEdyb3VwIGZyb20gJy4vaW5kZXgtbGlzdC1ncm91cC52dWUnCmltcG9ydCBzY3JvbGxNaXhpbiBmcm9tICcuLi8uLi9jb21tb24vbWl4aW5zL3Njcm9sbCcKaW1wb3J0IGRlcHJlY2F0ZWRNaXhpbiBmcm9tICcuLi8uLi9jb21tb24vbWl4aW5zL2RlcHJlY2F0ZWQnCgpjb25zdCBDT01QT05FTlRfTkFNRSA9ICdjdWJlLWluZGV4LWxpc3QnCmNvbnN0IEVWRU5UX1NFTEVDVCA9ICdzZWxlY3QnCmNvbnN0IEVWRU5UX1RJVExFX0NMSUNLID0gJ3RpdGxlLWNsaWNrJwpjb25zdCBFVkVOVF9QVUxMSU5HX1VQID0gJ3B1bGxpbmctdXAnCmNvbnN0IEVWRU5UX1BVTExJTkdfRE9XTiA9ICdwdWxsaW5nLWRvd24nCgpjb25zdCBBTkNIT1JfSEVJR0hUID0gaW5Ccm93c2VyID8gd2luZG93LmlubmVySGVpZ2h0IDw9IDQ4MCA/IDE3IDogMTggOiAxOApjb25zdCB0cmFuc2Zvcm1TdHlsZUtleSA9IHByZWZpeFN0eWxlKCd0cmFuc2Zvcm0nKQoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6IENPTVBPTkVOVF9OQU1FLAogIG1peGluczogW3Njcm9sbE1peGluLCBkZXByZWNhdGVkTWl4aW5dLAogIHByb3BzOiB7CiAgICB0aXRsZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgZGF0YTogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW10KICAgICAgfQogICAgfSwKICAgIHNwZWVkOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMAogICAgfSwKICAgIG5hdmJhcjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgcHVsbERvd25SZWZyZXNoOiB7CiAgICAgIHR5cGU6IFtPYmplY3QsIEJvb2xlYW5dLAogICAgICBkZWZhdWx0OiB1bmRlZmluZWQsCiAgICAgIGRlcHJlY2F0ZWQ6IHsKICAgICAgICByZXBsYWNlZEJ5OiAnb3B0aW9ucycKICAgICAgfQogICAgfSwKICAgIHB1bGxVcExvYWQ6IHsKICAgICAgdHlwZTogW09iamVjdCwgQm9vbGVhbl0sCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZCwKICAgICAgZGVwcmVjYXRlZDogewogICAgICAgIHJlcGxhY2VkQnk6ICdvcHRpb25zJwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2Nyb2xsRXZlbnRzOiBbJ3Njcm9sbCddLAogICAgICBjdXJyZW50SW5kZXg6IDAsCiAgICAgIHNjcm9sbFk6IC0xLAogICAgICBkaWZmOiAtMSwKICAgICAgdGl0bGVIZWlnaHQ6IDAKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBoYXNUaXRsZSgpIHsKICAgICAgcmV0dXJuIHRoaXMudGl0bGUgfHwgdGhpcy4kc2xvdHMudGl0bGUKICAgIH0sCiAgICBmaXhlZFRpdGxlKCkgewogICAgICB0aGlzLmhhc1RpdGxlICYmICF0aGlzLnRpdGxlSGVpZ2h0ICYmIHRoaXMuX2NhY3VsYXRlVGl0bGVIZWlnaHQoKQoKICAgICAgcmV0dXJuIHRoaXMuc2Nyb2xsWSA8PSAtdGhpcy50aXRsZUhlaWdodCAmJiB0aGlzLmRhdGFbdGhpcy5jdXJyZW50SW5kZXhdID8gdGhpcy5kYXRhW3RoaXMuY3VycmVudEluZGV4XS5uYW1lIDogJycKICAgIH0sCiAgICBzaG9ydGN1dExpc3QoKSB7CiAgICAgIHJldHVybiB0aGlzLmRhdGEubWFwKChncm91cCkgPT4gewogICAgICAgIHJldHVybiBncm91cCA/IGdyb3VwLnNob3J0Y3V0IHx8IGdyb3VwLm5hbWUuc3Vic3RyKDAsIDEpIDogJycKICAgICAgfSkKICAgIH0sCiAgICBzY3JvbGxPcHRpb25zKCkgewogICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgewogICAgICAgIHB1bGxEb3duUmVmcmVzaDogdGhpcy5wdWxsRG93blJlZnJlc2gsCiAgICAgICAgcHVsbFVwTG9hZDogdGhpcy5wdWxsVXBMb2FkCiAgICAgIH0sIHRoaXMub3B0aW9ucykKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdyb3VwTGlzdCA9IFtdCiAgICB0aGlzLmxpc3RIZWlnaHQgPSBbXQogICAgdGhpcy50b3VjaCA9IHt9CiAgICB0aGlzLnN1YlRpdGxlSGVpZ2h0ID0gMAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgdGhpcy5yZWZyZXNoKCkKICAgIH0pCiAgfSwKICBtZXRob2RzOiB7CiAgICAvKiBUT0RPOiByZW1vdmUgcmVmcmVzaCBuZXh0IG1pbm9yIHZlcnNpb24gKi8KICAgIHJlZnJlc2goKSB7CiAgICAgIHRoaXMuX2NhY3VsYXRlVGl0bGVIZWlnaHQoKQogICAgICB0aGlzLl9jYWxjdWxhdGVIZWlnaHQoKQogICAgICB0aGlzLiRyZWZzLnNjcm9sbCAmJiB0aGlzLiRyZWZzLnNjcm9sbC5yZWZyZXNoKCkKICAgIH0sCiAgICBzZWxlY3RJdGVtKGl0ZW0pIHsKICAgICAgdGhpcy4kZW1pdChFVkVOVF9TRUxFQ1QsIGl0ZW0pCiAgICB9LAogICAgc2Nyb2xsKHBvcykgewogICAgICB0aGlzLnNjcm9sbFkgPSBwb3MueQogICAgfSwKICAgIHRpdGxlQ2xpY2soKSB7CiAgICAgIHRoaXMuJGVtaXQoRVZFTlRfVElUTEVfQ0xJQ0ssIHRoaXMudGl0bGUpCiAgICB9LAogICAgZm9yY2VVcGRhdGUoZGlydHkgPSBmYWxzZSwgbm9tb3JlID0gZmFsc2UpIHsKICAgICAgdGhpcy4kcmVmcy5zY3JvbGwuZm9yY2VVcGRhdGUoZGlydHksIG5vbW9yZSkKICAgICAgZGlydHkgJiYgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuX2NhbGN1bGF0ZUhlaWdodCgpCiAgICAgIH0pCiAgICB9LAogICAgb25TaG9ydGN1dFRvdWNoU3RhcnQoZSkgewogICAgICBjb25zdCB0YXJnZXQgPSBnZXRNYXRjaGVkVGFyZ2V0KGUsICdjdWJlLWluZGV4LWxpc3QtbmF2LWl0ZW0nKQogICAgICBpZiAoIXRhcmdldCkgcmV0dXJuCiAgICAgIGxldCBhbmNob3JJbmRleCA9IGdldERhdGEodGFyZ2V0LCAnaW5kZXgnKQogICAgICBsZXQgZmlyc3RUb3VjaCA9IGUudG91Y2hlc1swXQogICAgICB0aGlzLnRvdWNoLnkxID0gZmlyc3RUb3VjaC5wYWdlWQogICAgICB0aGlzLnRvdWNoLmFuY2hvckluZGV4ID0gYW5jaG9ySW5kZXgKCiAgICAgIHRoaXMuX3Njcm9sbFRvKGFuY2hvckluZGV4KQogICAgfSwKICAgIG9uU2hvcnRjdXRUb3VjaE1vdmUoZSkgewogICAgICBsZXQgZmlyc3RUb3VjaCA9IGUudG91Y2hlc1swXQogICAgICB0aGlzLnRvdWNoLnkyID0gZmlyc3RUb3VjaC5wYWdlWQogICAgICBsZXQgZGVsdGEgPSAodGhpcy50b3VjaC55MiAtIHRoaXMudG91Y2gueTEpIC8gQU5DSE9SX0hFSUdIVCB8IDAKICAgICAgbGV0IGFuY2hvckluZGV4ID0gcGFyc2VJbnQodGhpcy50b3VjaC5hbmNob3JJbmRleCkgKyBkZWx0YQoKICAgICAgdGhpcy5fc2Nyb2xsVG8oYW5jaG9ySW5kZXgpCiAgICB9LAogICAgb25QdWxsaW5nVXAoKSB7CiAgICAgIHRoaXMuJGVtaXQoRVZFTlRfUFVMTElOR19VUCkKICAgIH0sCiAgICBvblB1bGxpbmdEb3duKCkgewogICAgICB0aGlzLiRlbWl0KEVWRU5UX1BVTExJTkdfRE9XTikKICAgIH0sCiAgICBfY2FjdWxhdGVUaXRsZUhlaWdodCgpIHsKICAgICAgdGhpcy50aXRsZUhlaWdodCA9IHRoaXMuJHJlZnMudGl0bGUgPyBnZXRSZWN0KHRoaXMuJHJlZnMudGl0bGUpLmhlaWdodCA6IDAKICAgIH0sCiAgICBfY2FsY3VsYXRlSGVpZ2h0KCkgewogICAgICB0aGlzLmdyb3VwTGlzdCA9IHRoaXMuJGVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2N1YmUtaW5kZXgtbGlzdC1ncm91cCcpCiAgICAgIGNvbnN0IHN1YlRpdGxlRWwgPSB0aGlzLiRlbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjdWJlLWluZGV4LWxpc3QtYW5jaG9yJylbMF0KICAgICAgdGhpcy5zdWJUaXRsZUhlaWdodCA9IHN1YlRpdGxlRWwgPyBnZXRSZWN0KHN1YlRpdGxlRWwpLmhlaWdodCA6IDAKICAgICAgdGhpcy5saXN0SGVpZ2h0ID0gW10KCiAgICAgIGlmICghdGhpcy5ncm91cExpc3QpIHsKICAgICAgICByZXR1cm4KICAgICAgfQoKICAgICAgbGV0IGhlaWdodCA9IHRoaXMudGl0bGVIZWlnaHQKICAgICAgdGhpcy5saXN0SGVpZ2h0LnB1c2goaGVpZ2h0KQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZ3JvdXBMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLmdyb3VwTGlzdFtpXQogICAgICAgIGhlaWdodCArPSBpdGVtLmNsaWVudEhlaWdodAogICAgICAgIHRoaXMubGlzdEhlaWdodC5wdXNoKGhlaWdodCkKICAgICAgfQogICAgfSwKICAgIF9zY3JvbGxUbyhpbmRleCkgewogICAgICBpZiAoaW5kZXggPCAwKSB7CiAgICAgICAgaW5kZXggPSAwCiAgICAgIH0gZWxzZSBpZiAoaW5kZXggPiB0aGlzLmxpc3RIZWlnaHQubGVuZ3RoIC0gMikgewogICAgICAgIGluZGV4ID0gdGhpcy5saXN0SGVpZ2h0Lmxlbmd0aCAtIDIKICAgICAgfQogICAgICB0aGlzLiRyZWZzLnNjcm9sbC5zY3JvbGxUb0VsZW1lbnQodGhpcy5ncm91cExpc3RbaW5kZXhdLCB0aGlzLnNwZWVkKQogICAgICB0aGlzLnNjcm9sbFkgPSB0aGlzLiRyZWZzLnNjcm9sbC5zY3JvbGwueQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGRhdGEoKSB7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLl9jYWxjdWxhdGVIZWlnaHQoKQogICAgICB9KQogICAgfSwKICAgIHRpdGxlKG5ld1ZhbCkgewogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy5yZWZyZXNoKCkKICAgICAgfSkKICAgIH0sCiAgICBkaWZmKG5ld1ZhbCkgewogICAgICBsZXQgZml4ZWRUb3AgPSAobmV3VmFsID4gMCAmJiBuZXdWYWwgPCB0aGlzLnN1YlRpdGxlSGVpZ2h0KSA/IG5ld1ZhbCAtIHRoaXMuc3ViVGl0bGVIZWlnaHQgOiAwCiAgICAgIGlmICh0aGlzLmZpeGVkVG9wID09PSBmaXhlZFRvcCkgewogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIHRoaXMuZml4ZWRUb3AgPSBmaXhlZFRvcAogICAgICB0aGlzLiRyZWZzLmZpeGVkLnN0eWxlW3RyYW5zZm9ybVN0eWxlS2V5XSA9IGB0cmFuc2xhdGUzZCgwLCR7Zml4ZWRUb3B9cHgsMClgCiAgICB9LAogICAgc2Nyb2xsWShuZXdZKSB7CiAgICAgIGNvbnN0IGxpc3RIZWlnaHQgPSB0aGlzLmxpc3RIZWlnaHQKICAgICAgLy8gdG9wCiAgICAgIGlmIChuZXdZID4gLXRoaXMudGl0bGVIZWlnaHQpIHsKICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IDAKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICAvLyBtaWRkCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdEhlaWdodC5sZW5ndGggLSAxOyBpKyspIHsKICAgICAgICBsZXQgaGVpZ2h0MSA9IGxpc3RIZWlnaHRbaV0KICAgICAgICBsZXQgaGVpZ2h0MiA9IGxpc3RIZWlnaHRbaSArIDFdCiAgICAgICAgaWYgKC1uZXdZID49IGhlaWdodDEgJiYgLW5ld1kgPCBoZWlnaHQyKSB7CiAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IGkKICAgICAgICAgIHRoaXMuZGlmZiA9IGhlaWdodDIgKyBuZXdZCiAgICAgICAgICByZXR1cm4KICAgICAgICB9CiAgICAgIH0KICAgICAgLy8gYm90dG9tCiAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gbGlzdEhlaWdodC5sZW5ndGggLSAyCiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBDdWJlU2Nyb2xsLAogICAgQ3ViZUluZGV4TGlzdEdyb3VwCiAgfQp9Cg=="},{"version":3,"sources":["index-list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index-list.vue","sourceRoot":"node_modules/cube-ui/src/components/index-list","sourcesContent":["<template>\n  <div class=\"cube-index-list\">\n    <cube-scroll\n      ref=\"scroll\"\n      :scroll-events=\"scrollEvents\"\n      :options=\"scrollOptions\"\n      :data=\"data\"\n      @scroll=\"scroll\"\n      @pulling-down=\"onPullingDown\"\n      @pulling-up=\"onPullingUp\">\n      <div class=\"cube-index-list-content\" ref=\"content\">\n        <h1 class=\"cube-index-list-title\" v-if=\"hasTitle\" ref=\"title\" @click=\"titleClick\">\n          <slot name=\"title\">{{ title }}</slot>\n        </h1>\n        <ul>\n          <slot>\n            <cube-index-list-group v-for=\"(group, index) in data\" :key=\"index\" :group=\"group\" @select=\"selectItem\">\n            </cube-index-list-group>\n          </slot>\n        </ul>\n      </div>\n      <template v-if=\"$slots.pullup || $scopedSlots.pullup\" slot=\"pullup\" slot-scope=\"props\">\n        <slot name=\"pullup\"\n          :pullUpLoad=\"props.pullUpLoad\"\n          :isPullUpLoad=\"props.isPullUpLoad\">\n        </slot>\n      </template>\n      <template v-if=\"$slots.pulldown || $scopedSlots.pulldown\" slot=\"pulldown\" slot-scope=\"props\">\n        <slot name=\"pulldown\"\n          :pullDownRefresh=\"props.pullDownRefresh\"\n          :pullDownStyle=\"props.pullDownStyle\"\n          :beforePullDown=\"props.beforePullDown\"\n          :isPullingDown=\"props.isPullingDown\"\n          :bubbleY=\"props.bubbleY\">\n        </slot>\n      </template>\n    </cube-scroll>\n    <div v-if=\"navbar\" class=\"cube-index-list-nav\" @touchstart=\"onShortcutTouchStart\" @touchmove.stop.prevent=\"onShortcutTouchMove\">\n      <ul class=\"cube-index-list-nav-list\">\n        <li\n          v-for=\"(item, index) in shortcutList\"\n          :key=\"index\"\n          :data-index=\"index\"\n          class=\"cube-index-list-nav-item\"\n          :class=\"{active: currentIndex === index}\"\n        >\n          <slot name=\"nav-item\" :item=\"item\">{{ item }}</slot>\n        </li>\n      </ul>\n    </div>\n    <div ref=\"fixed\"\n      v-show=\"fixedTitle\"\n      v-html=\"fixedTitle\"\n      class=\"cube-index-list-fixed cube-index-list-anchor\">\n    </div>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import {\n    getData,\n    getRect,\n    prefixStyle,\n    getMatchedTarget\n  } from '../../common/helpers/dom'\n  import { inBrowser } from '../../common/helpers/env'\n\n  import CubeScroll from '../scroll/scroll.vue'\n  import CubeIndexListGroup from './index-list-group.vue'\n  import scrollMixin from '../../common/mixins/scroll'\n  import deprecatedMixin from '../../common/mixins/deprecated'\n\n  const COMPONENT_NAME = 'cube-index-list'\n  const EVENT_SELECT = 'select'\n  const EVENT_TITLE_CLICK = 'title-click'\n  const EVENT_PULLING_UP = 'pulling-up'\n  const EVENT_PULLING_DOWN = 'pulling-down'\n\n  const ANCHOR_HEIGHT = inBrowser ? window.innerHeight <= 480 ? 17 : 18 : 18\n  const transformStyleKey = prefixStyle('transform')\n\n  export default {\n    name: COMPONENT_NAME,\n    mixins: [scrollMixin, deprecatedMixin],\n    props: {\n      title: {\n        type: String,\n        default: ''\n      },\n      data: {\n        type: Array,\n        default() {\n          return []\n        }\n      },\n      speed: {\n        type: Number,\n        default: 0\n      },\n      navbar: {\n        type: Boolean,\n        default: true\n      },\n      pullDownRefresh: {\n        type: [Object, Boolean],\n        default: undefined,\n        deprecated: {\n          replacedBy: 'options'\n        }\n      },\n      pullUpLoad: {\n        type: [Object, Boolean],\n        default: undefined,\n        deprecated: {\n          replacedBy: 'options'\n        }\n      }\n    },\n    data() {\n      return {\n        scrollEvents: ['scroll'],\n        currentIndex: 0,\n        scrollY: -1,\n        diff: -1,\n        titleHeight: 0\n      }\n    },\n    computed: {\n      hasTitle() {\n        return this.title || this.$slots.title\n      },\n      fixedTitle() {\n        this.hasTitle && !this.titleHeight && this._caculateTitleHeight()\n\n        return this.scrollY <= -this.titleHeight && this.data[this.currentIndex] ? this.data[this.currentIndex].name : ''\n      },\n      shortcutList() {\n        return this.data.map((group) => {\n          return group ? group.shortcut || group.name.substr(0, 1) : ''\n        })\n      },\n      scrollOptions() {\n        return Object.assign({}, {\n          pullDownRefresh: this.pullDownRefresh,\n          pullUpLoad: this.pullUpLoad\n        }, this.options)\n      }\n    },\n    created() {\n      this.groupList = []\n      this.listHeight = []\n      this.touch = {}\n      this.subTitleHeight = 0\n    },\n    mounted() {\n      this.$nextTick(() => {\n        this.refresh()\n      })\n    },\n    methods: {\n      /* TODO: remove refresh next minor version */\n      refresh() {\n        this._caculateTitleHeight()\n        this._calculateHeight()\n        this.$refs.scroll && this.$refs.scroll.refresh()\n      },\n      selectItem(item) {\n        this.$emit(EVENT_SELECT, item)\n      },\n      scroll(pos) {\n        this.scrollY = pos.y\n      },\n      titleClick() {\n        this.$emit(EVENT_TITLE_CLICK, this.title)\n      },\n      forceUpdate(dirty = false, nomore = false) {\n        this.$refs.scroll.forceUpdate(dirty, nomore)\n        dirty && this.$nextTick(() => {\n          this._calculateHeight()\n        })\n      },\n      onShortcutTouchStart(e) {\n        const target = getMatchedTarget(e, 'cube-index-list-nav-item')\n        if (!target) return\n        let anchorIndex = getData(target, 'index')\n        let firstTouch = e.touches[0]\n        this.touch.y1 = firstTouch.pageY\n        this.touch.anchorIndex = anchorIndex\n\n        this._scrollTo(anchorIndex)\n      },\n      onShortcutTouchMove(e) {\n        let firstTouch = e.touches[0]\n        this.touch.y2 = firstTouch.pageY\n        let delta = (this.touch.y2 - this.touch.y1) / ANCHOR_HEIGHT | 0\n        let anchorIndex = parseInt(this.touch.anchorIndex) + delta\n\n        this._scrollTo(anchorIndex)\n      },\n      onPullingUp() {\n        this.$emit(EVENT_PULLING_UP)\n      },\n      onPullingDown() {\n        this.$emit(EVENT_PULLING_DOWN)\n      },\n      _caculateTitleHeight() {\n        this.titleHeight = this.$refs.title ? getRect(this.$refs.title).height : 0\n      },\n      _calculateHeight() {\n        this.groupList = this.$el.getElementsByClassName('cube-index-list-group')\n        const subTitleEl = this.$el.getElementsByClassName('cube-index-list-anchor')[0]\n        this.subTitleHeight = subTitleEl ? getRect(subTitleEl).height : 0\n        this.listHeight = []\n\n        if (!this.groupList) {\n          return\n        }\n\n        let height = this.titleHeight\n        this.listHeight.push(height)\n        for (let i = 0; i < this.groupList.length; i++) {\n          let item = this.groupList[i]\n          height += item.clientHeight\n          this.listHeight.push(height)\n        }\n      },\n      _scrollTo(index) {\n        if (index < 0) {\n          index = 0\n        } else if (index > this.listHeight.length - 2) {\n          index = this.listHeight.length - 2\n        }\n        this.$refs.scroll.scrollToElement(this.groupList[index], this.speed)\n        this.scrollY = this.$refs.scroll.scroll.y\n      }\n    },\n    watch: {\n      data() {\n        this.$nextTick(() => {\n          this._calculateHeight()\n        })\n      },\n      title(newVal) {\n        this.$nextTick(() => {\n          this.refresh()\n        })\n      },\n      diff(newVal) {\n        let fixedTop = (newVal > 0 && newVal < this.subTitleHeight) ? newVal - this.subTitleHeight : 0\n        if (this.fixedTop === fixedTop) {\n          return\n        }\n        this.fixedTop = fixedTop\n        this.$refs.fixed.style[transformStyleKey] = `translate3d(0,${fixedTop}px,0)`\n      },\n      scrollY(newY) {\n        const listHeight = this.listHeight\n        // top\n        if (newY > -this.titleHeight) {\n          this.currentIndex = 0\n          return\n        }\n        // midd\n        for (let i = 0; i < listHeight.length - 1; i++) {\n          let height1 = listHeight[i]\n          let height2 = listHeight[i + 1]\n          if (-newY >= height1 && -newY < height2) {\n            this.currentIndex = i\n            this.diff = height2 + newY\n            return\n          }\n        }\n        // bottom\n        this.currentIndex = listHeight.length - 2\n      }\n    },\n    components: {\n      CubeScroll,\n      CubeIndexListGroup\n    }\n  }\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\n  @require \"../../common/stylus/variable.styl\"\n  @require \"../../common/stylus/mixin.styl\"\n\n  .cube-index-list\n    position: relative\n    height: 100%\n    overflow: hidden\n    .cube-scroll-wrapper\n      position: absolute\n      left: 0\n      top: 0\n      right: 0\n      bottom: 0\n      overflow: hidden\n  .cube-index-list-content\n    background: $index-list-bgc\n    border-radius: 2px\n  .cube-index-list-title\n    padding: 14px 16px\n    font-size: $fontsize-medium\n    line-height: 1.6\n    color: $index-list-title-color\n  .cube-index-list-anchor\n    padding: 16px 16px 10px 16px\n    line-height: 1\n    font-size: $fontsize-medium\n    color: $index-list-anchor-color\n    background: $index-list-anchor-bgc\n  .cube-index-list-fixed\n    z-index: 1\n    position: absolute\n    top: 0\n    left: 0\n    right: 0\n  .cube-index-list-nav\n    position: absolute\n    z-index: 30\n    right: 0\n    top: 50%\n    transform: translateY(-50%)\n    font-family: Helvetica\n    > ul\n      padding: 0\n      margin: 0\n      > li\n        padding: 6px 16px 0 16px\n        line-height: 1\n        text-align: center\n        box-sizing(border-box)\n        font-size: $fontsize-small\n        color: $index-list-nav-color\n        &.active\n          color: $index-list-nav-active-color\n        @media (max-height: 480px)\n          &\n            padding-top: 3px\n</style>\n"]}]}