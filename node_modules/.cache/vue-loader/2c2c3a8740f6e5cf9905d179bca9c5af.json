{"remainingRequest":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\src\\views\\Pay\\Pay.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\src\\views\\Pay\\Pay.vue","mtime":1588386810000},{"path":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldFZpZGVvRGV0YWlsLCBzYXZlT3JkZXIgfSBmcm9tICJAL2FwaS9nZXREYXRhLmpzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdmlkZW9pbmZvOiB7fQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v6I635Y+W6KeG6aKR6K+m5oOFCiAgICBhc3luYyBnZXREZXRhaWwodmlkKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0VmlkZW9EZXRhaWwodmlkKTsKICAgICAgICBpZiAocmVzdWx0LmRhdGEuY29kZSA9PSAwKSB7CiAgICAgICAgICB0aGlzLnZpZGVvaW5mbyA9IHJlc3VsdC5kYXRhLmRhdGE7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfQogICAgfSwKCiAgICAvL+S4i+WNlQogICAgYXN5bmMgcGF5KCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNhdmVPcmRlcigKICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnRva2VuLAogICAgICAgICAgdGhpcy4kcm91dGUucXVlcnkudmlkZW9faWQKICAgICAgICApOwoKICAgICAgICBpZiAocmVzdWx0LmRhdGEuY29kZSA9PSAwKSB7CiAgICAgICAgICBjb25zdCB0b2FzdCA9IHRoaXMuJGNyZWF0ZVRvYXN0KHsKICAgICAgICAgICAgdHh0OiAi6LSt5Lmw5oiQ5YqfIiwKICAgICAgICAgICAgdHlwZTogImNvcnJlY3QiLAogICAgICAgICAgICB0aW1lOiAyMDAwLAogICAgICAgICAgICBvblRpbWVvdXQ6ICgpID0+IHsKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICJvcmRlciIgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgdG9hc3Quc2hvdygpOwogICAgICAgIH1lbHNlewogICAgICAgICAgICAgY29uc3QgdG9hc3QgPSB0aGlzLiRjcmVhdGVUb2FzdCh7CiAgICAgICAgICAgIHR4dDogIuS4i+WNleWksei0pSIsCiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgIHRpbWU6IDE1MDAKICAgICAgICAgIH0pOwogICAgICAgICAgdG9hc3Quc2hvdygpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldERldGFpbCh0aGlzLiRyb3V0ZS5xdWVyeS52aWRlb19pZCk7CiAgfQp9Owo="},{"version":3,"sources":["Pay.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Pay.vue","sourceRoot":"src/views/Pay","sourcesContent":["<template>\n  <div>\n    <!--视频信息-->\n    <div class=\"info\">\n      <p class=\"info_title\">商品信息</p>\n      <div class=\"box\">\n        <div class=\"imgdiv\">\n          <img alt=\"课程照片\" :src=\"videoinfo.cover_img\" />\n        </div>\n        <div class=\"textdiv\">\n          <p class=\"c_title\">{{videoinfo.title}}</p>\n          <p class=\"price\">￥:&nbsp;&nbsp; {{(videoinfo.price / 100).toFixed(2)}}</p>\n        </div>\n      </div>\n    </div>\n    <!--顶部支付-->\n    <div class=\"footer\">\n      <p class=\"money\">实付:&nbsp;&nbsp; {{(videoinfo.price / 100).toFixed(2)}}</p>\n      <p class=\"submit\" @click=\"pay\">立刻支付</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getVideoDetail, saveOrder } from \"@/api/getData.js\";\n\nexport default {\n  data() {\n    return {\n      videoinfo: {}\n    };\n  },\n  methods: {\n    //获取视频详情\n    async getDetail(vid) {\n      try {\n        const result = await getVideoDetail(vid);\n        if (result.data.code == 0) {\n          this.videoinfo = result.data.data;\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    //下单\n    async pay() {\n      try {\n        const result = await saveOrder(\n          this.$store.state.token,\n          this.$route.query.video_id\n        );\n\n        if (result.data.code == 0) {\n          const toast = this.$createToast({\n            txt: \"购买成功\",\n            type: \"correct\",\n            time: 2000,\n            onTimeout: () => {\n              this.$router.push({ path: \"order\" });\n            }\n          });\n          toast.show();\n        }else{\n             const toast = this.$createToast({\n            txt: \"下单失败\",\n            type: \"error\",\n            time: 1500\n          });\n          toast.show();\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  },\n  mounted() {\n    this.getDetail(this.$route.query.video_id);\n  }\n};\n</script>\n\n\n<style lang=\"scss\" scoped>\n// 视频标题\n.info_title {\n  padding: 10px 20px;\n  background-color: #fff;\n  border-bottom: 1px solid #d9dde1;\n}\n\n.box {\n  background-color: #fff;\n  box-sizing: border-box;\n  padding: 20px;\n  display: flex;\n  margin-bottom: 15px;\n  .imgdiv {\n    width: 105px;\n    height: 59px;\n    flex-shrink: 0;\n    img {\n      width: 100%;\n      height: 100%;\n    }\n  }\n\n  .textdiv {\n    margin-left: 20px;\n    height: 59px;\n    flex-grow: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    .price {\n      flex-shrink: 0;\n    }\n  }\n}\n//底部\n.footer {\n  position: fixed;\n  bottom: 0;\n  width: 100%;\n  height: 50px;\n  background-color: #fff;\n  display: flex;\n  justify-content: space-between;\n  box-shadow: 0 -2px 4px 0 rgba(0, 0, 0, 0.1);\n  font-size: 16px;\n  .money {\n    height: 50px;\n    line-height: 50px;\n    flex: 2;\n    text-align: center;\n    background-color: #fff;\n  }\n  .submit {\n    height: 50px;\n    line-height: 50px;\n    flex: 1;\n    text-align: center;\n    background-color: #ff2d50;\n    color: #fff;\n  }\n}\n</style>"]}]}