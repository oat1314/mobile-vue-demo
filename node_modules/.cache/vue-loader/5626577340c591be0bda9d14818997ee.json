{"remainingRequest":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\cube-ui\\src\\components\\bubble\\bubble.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\cube-ui\\src\\components\\bubble\\bubble.vue","mtime":499162500000},{"path":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgeTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB3aWR0aDogNTAsCiAgICAgIGhlaWdodDogODAKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBkaXN0YW5jZSgpIHsKICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKHRoaXMueSAqIHRoaXMucmF0aW8sIHRoaXMubWF4RGlzdGFuY2UpKQogICAgfSwKICAgIHN0eWxlKCkgewogICAgICByZXR1cm4gYHdpZHRoOiR7dGhpcy53aWR0aCAvIHRoaXMucmF0aW99cHg7aGVpZ2h0OiR7dGhpcy5oZWlnaHQgLyB0aGlzLnJhdGlvfXB4YAogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMucmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbwogICAgdGhpcy53aWR0aCAqPSB0aGlzLnJhdGlvCiAgICB0aGlzLmhlaWdodCAqPSB0aGlzLnJhdGlvCiAgICB0aGlzLmluaXRSYWRpdXMgPSAxOCAqIHRoaXMucmF0aW8KICAgIHRoaXMubWluSGVhZFJhZGl1cyA9IDEyICogdGhpcy5yYXRpbwogICAgdGhpcy5taW5UYWlsUmFkaXVzID0gNSAqIHRoaXMucmF0aW8KICAgIHRoaXMuaW5pdEFycm93UmFkaXVzID0gMTAgKiB0aGlzLnJhdGlvCiAgICB0aGlzLm1pbkFycm93UmFkaXVzID0gNiAqIHRoaXMucmF0aW8KICAgIHRoaXMuYXJyb3dXaWR0aCA9IDMgKiB0aGlzLnJhdGlvCiAgICB0aGlzLm1heERpc3RhbmNlID0gNDAgKiB0aGlzLnJhdGlvCiAgICB0aGlzLmluaXRDZW50ZXJYID0gMjUgKiB0aGlzLnJhdGlvCiAgICB0aGlzLmluaXRDZW50ZXJZID0gMjUgKiB0aGlzLnJhdGlvCiAgICB0aGlzLmhlYWRDZW50ZXIgPSB7CiAgICAgIHg6IHRoaXMuaW5pdENlbnRlclgsCiAgICAgIHk6IHRoaXMuaW5pdENlbnRlclkKICAgIH0KICAgIHRoaXMuX2RyYXcoKQogIH0sCiAgbWV0aG9kczogewogICAgX2RyYXcoKSB7CiAgICAgIGNvbnN0IGJ1YmJsZSA9IHRoaXMuJHJlZnMuYnViYmxlCiAgICAgIGxldCBjdHggPSBidWJibGUuZ2V0Q29udGV4dCgnMmQnKQogICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGJ1YmJsZS53aWR0aCwgYnViYmxlLmhlaWdodCkKCiAgICAgIHRoaXMuX2RyYXdCdWJibGUoY3R4KQoKICAgICAgdGhpcy5fZHJhd0Fycm93KGN0eCkKICAgIH0sCiAgICBfZHJhd0J1YmJsZShjdHgpIHsKICAgICAgY3R4LnNhdmUoKQogICAgICBjdHguYmVnaW5QYXRoKCkKCiAgICAgIGNvbnN0IHJhdGUgPSB0aGlzLmRpc3RhbmNlIC8gdGhpcy5tYXhEaXN0YW5jZQogICAgICBjb25zdCBoZWFkUmFkaXVzID0gdGhpcy5pbml0UmFkaXVzIC0gKHRoaXMuaW5pdFJhZGl1cyAtIHRoaXMubWluSGVhZFJhZGl1cykgKiByYXRlCgogICAgICB0aGlzLmhlYWRDZW50ZXIueSA9IHRoaXMuaW5pdENlbnRlclkgLSAodGhpcy5pbml0UmFkaXVzIC0gdGhpcy5taW5IZWFkUmFkaXVzKSAqIHJhdGUKCiAgICAgIC8vIHVwcGVyIHNlbWljaXJjbGUKICAgICAgY3R4LmFyYyh0aGlzLmhlYWRDZW50ZXIueCwgdGhpcy5oZWFkQ2VudGVyLnksIGhlYWRSYWRpdXMsIDAsIE1hdGguUEksIHRydWUpCgogICAgICAvLyBsZWZ0IGJlc3NlbAogICAgICBjb25zdCB0YWlsUmFkaXVzID0gdGhpcy5pbml0UmFkaXVzIC0gKHRoaXMuaW5pdFJhZGl1cyAtIHRoaXMubWluVGFpbFJhZGl1cykgKiByYXRlCiAgICAgIGNvbnN0IHRhaWxDZW50ZXIgPSB7CiAgICAgICAgeDogdGhpcy5oZWFkQ2VudGVyLngsCiAgICAgICAgeTogdGhpcy5oZWFkQ2VudGVyLnkgKyB0aGlzLmRpc3RhbmNlCiAgICAgIH0KCiAgICAgIGNvbnN0IHRhaWxQb2ludEwgPSB7CiAgICAgICAgeDogdGFpbENlbnRlci54IC0gdGFpbFJhZGl1cywKICAgICAgICB5OiB0YWlsQ2VudGVyLnkKICAgICAgfQogICAgICBjb25zdCBjb250cm9sUG9pbnRMID0gewogICAgICAgIHg6IHRhaWxQb2ludEwueCwKICAgICAgICB5OiB0YWlsUG9pbnRMLnkgLSB0aGlzLmRpc3RhbmNlIC8gMgogICAgICB9CgogICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyhjb250cm9sUG9pbnRMLngsIGNvbnRyb2xQb2ludEwueSwgdGFpbFBvaW50TC54LCB0YWlsUG9pbnRMLnkpCgogICAgICAvLyBsb3dlciBzZW1pY2lyY2xlCiAgICAgIGN0eC5hcmModGFpbENlbnRlci54LCB0YWlsQ2VudGVyLnksIHRhaWxSYWRpdXMsIE1hdGguUEksIDAsIHRydWUpCgogICAgICAvLyByaWdodCBiZXNzZWwKICAgICAgY29uc3QgaGVhZFBvaW50UiA9IHsKICAgICAgICB4OiB0aGlzLmhlYWRDZW50ZXIueCArIGhlYWRSYWRpdXMsCiAgICAgICAgeTogdGhpcy5oZWFkQ2VudGVyLnkKICAgICAgfQogICAgICBjb25zdCBjb250cm9sUG9pbnRSID0gewogICAgICAgIHg6IHRhaWxDZW50ZXIueCArIHRhaWxSYWRpdXMsCiAgICAgICAgeTogaGVhZFBvaW50Ui55ICsgdGhpcy5kaXN0YW5jZSAvIDIKICAgICAgfQogICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyhjb250cm9sUG9pbnRSLngsIGNvbnRyb2xQb2ludFIueSwgaGVhZFBvaW50Ui54LCBoZWFkUG9pbnRSLnkpCgogICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYigxNzAsMTcwLDE3MCknCiAgICAgIGN0eC5maWxsKCkKICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJ3JnYigxNTMsMTUzLDE1MyknCiAgICAgIGN0eC5zdHJva2UoKQogICAgICBjdHgucmVzdG9yZSgpCiAgICB9LAogICAgX2RyYXdBcnJvdyhjdHgpIHsKICAgICAgY3R4LnNhdmUoKQogICAgICBjdHguYmVnaW5QYXRoKCkKCiAgICAgIGNvbnN0IHJhdGUgPSB0aGlzLmRpc3RhbmNlIC8gdGhpcy5tYXhEaXN0YW5jZQogICAgICBjb25zdCBhcnJvd1JhZGl1cyA9IHRoaXMuaW5pdEFycm93UmFkaXVzIC0gKHRoaXMuaW5pdEFycm93UmFkaXVzIC0gdGhpcy5taW5BcnJvd1JhZGl1cykgKiByYXRlCgogICAgICAvLyBpbm5lciBjaXJjbGUKICAgICAgY3R4LmFyYyh0aGlzLmhlYWRDZW50ZXIueCwgdGhpcy5oZWFkQ2VudGVyLnksIGFycm93UmFkaXVzIC0gKHRoaXMuYXJyb3dXaWR0aCAtIHJhdGUpLCAtTWF0aC5QSSAvIDIsIDAsIHRydWUpCgogICAgICAvLyBvdXRlciBjaXJjbGUKICAgICAgY3R4LmFyYyh0aGlzLmhlYWRDZW50ZXIueCwgdGhpcy5oZWFkQ2VudGVyLnksIGFycm93UmFkaXVzLCAwLCBNYXRoLlBJICogMyAvIDIsIGZhbHNlKQoKICAgICAgY3R4LmxpbmVUbyh0aGlzLmhlYWRDZW50ZXIueCwgdGhpcy5oZWFkQ2VudGVyLnkgLSBhcnJvd1JhZGl1cyAtIHRoaXMuYXJyb3dXaWR0aCAvIDIgKyByYXRlKQogICAgICBjdHgubGluZVRvKHRoaXMuaGVhZENlbnRlci54ICsgdGhpcy5hcnJvd1dpZHRoICogMiAtIHJhdGUgKiAyLCB0aGlzLmhlYWRDZW50ZXIueSAtIGFycm93UmFkaXVzICsgdGhpcy5hcnJvd1dpZHRoIC8gMikKCiAgICAgIGN0eC5saW5lVG8odGhpcy5oZWFkQ2VudGVyLngsIHRoaXMuaGVhZENlbnRlci55IC0gYXJyb3dSYWRpdXMgKyB0aGlzLmFycm93V2lkdGggKiAzIC8gMiAtIHJhdGUpCgogICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYigyNTUsMjU1LDI1NSknCiAgICAgIGN0eC5maWxsKCkKICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJ3JnYigxNzAsMTcwLDE3MCknCiAgICAgIGN0eC5zdHJva2UoKQogICAgICBjdHgucmVzdG9yZSgpCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgeSgpIHsKICAgICAgdGhpcy5fZHJhdygpCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["bubble.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bubble.vue","sourceRoot":"node_modules/cube-ui/src/components/bubble","sourcesContent":["<template>\n  <canvas ref=\"bubble\" :width=\"width\" :height=\"height\" :style=\"style\"></canvas>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  export default {\n    props: {\n      y: {\n        type: Number,\n        default: 0\n      }\n    },\n    data() {\n      return {\n        width: 50,\n        height: 80\n      }\n    },\n    computed: {\n      distance() {\n        return Math.max(0, Math.min(this.y * this.ratio, this.maxDistance))\n      },\n      style() {\n        return `width:${this.width / this.ratio}px;height:${this.height / this.ratio}px`\n      }\n    },\n    mounted() {\n      this.ratio = window.devicePixelRatio\n      this.width *= this.ratio\n      this.height *= this.ratio\n      this.initRadius = 18 * this.ratio\n      this.minHeadRadius = 12 * this.ratio\n      this.minTailRadius = 5 * this.ratio\n      this.initArrowRadius = 10 * this.ratio\n      this.minArrowRadius = 6 * this.ratio\n      this.arrowWidth = 3 * this.ratio\n      this.maxDistance = 40 * this.ratio\n      this.initCenterX = 25 * this.ratio\n      this.initCenterY = 25 * this.ratio\n      this.headCenter = {\n        x: this.initCenterX,\n        y: this.initCenterY\n      }\n      this._draw()\n    },\n    methods: {\n      _draw() {\n        const bubble = this.$refs.bubble\n        let ctx = bubble.getContext('2d')\n        ctx.clearRect(0, 0, bubble.width, bubble.height)\n\n        this._drawBubble(ctx)\n\n        this._drawArrow(ctx)\n      },\n      _drawBubble(ctx) {\n        ctx.save()\n        ctx.beginPath()\n\n        const rate = this.distance / this.maxDistance\n        const headRadius = this.initRadius - (this.initRadius - this.minHeadRadius) * rate\n\n        this.headCenter.y = this.initCenterY - (this.initRadius - this.minHeadRadius) * rate\n\n        // upper semicircle\n        ctx.arc(this.headCenter.x, this.headCenter.y, headRadius, 0, Math.PI, true)\n\n        // left bessel\n        const tailRadius = this.initRadius - (this.initRadius - this.minTailRadius) * rate\n        const tailCenter = {\n          x: this.headCenter.x,\n          y: this.headCenter.y + this.distance\n        }\n\n        const tailPointL = {\n          x: tailCenter.x - tailRadius,\n          y: tailCenter.y\n        }\n        const controlPointL = {\n          x: tailPointL.x,\n          y: tailPointL.y - this.distance / 2\n        }\n\n        ctx.quadraticCurveTo(controlPointL.x, controlPointL.y, tailPointL.x, tailPointL.y)\n\n        // lower semicircle\n        ctx.arc(tailCenter.x, tailCenter.y, tailRadius, Math.PI, 0, true)\n\n        // right bessel\n        const headPointR = {\n          x: this.headCenter.x + headRadius,\n          y: this.headCenter.y\n        }\n        const controlPointR = {\n          x: tailCenter.x + tailRadius,\n          y: headPointR.y + this.distance / 2\n        }\n        ctx.quadraticCurveTo(controlPointR.x, controlPointR.y, headPointR.x, headPointR.y)\n\n        ctx.fillStyle = 'rgb(170,170,170)'\n        ctx.fill()\n        ctx.strokeStyle = 'rgb(153,153,153)'\n        ctx.stroke()\n        ctx.restore()\n      },\n      _drawArrow(ctx) {\n        ctx.save()\n        ctx.beginPath()\n\n        const rate = this.distance / this.maxDistance\n        const arrowRadius = this.initArrowRadius - (this.initArrowRadius - this.minArrowRadius) * rate\n\n        // inner circle\n        ctx.arc(this.headCenter.x, this.headCenter.y, arrowRadius - (this.arrowWidth - rate), -Math.PI / 2, 0, true)\n\n        // outer circle\n        ctx.arc(this.headCenter.x, this.headCenter.y, arrowRadius, 0, Math.PI * 3 / 2, false)\n\n        ctx.lineTo(this.headCenter.x, this.headCenter.y - arrowRadius - this.arrowWidth / 2 + rate)\n        ctx.lineTo(this.headCenter.x + this.arrowWidth * 2 - rate * 2, this.headCenter.y - arrowRadius + this.arrowWidth / 2)\n\n        ctx.lineTo(this.headCenter.x, this.headCenter.y - arrowRadius + this.arrowWidth * 3 / 2 - rate)\n\n        ctx.fillStyle = 'rgb(255,255,255)'\n        ctx.fill()\n        ctx.strokeStyle = 'rgb(170,170,170)'\n        ctx.stroke()\n        ctx.restore()\n      }\n    },\n    watch: {\n      y() {\n        this._draw()\n      }\n    }\n  }\n</script>\n"]}]}