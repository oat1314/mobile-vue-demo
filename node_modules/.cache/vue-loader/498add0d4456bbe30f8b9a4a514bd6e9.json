{"remainingRequest":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\cube-ui\\src\\components\\scroll\\scroll.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\cube-ui\\src\\components\\scroll\\scroll.vue","mtime":499162500000},{"path":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\BaiduNetdiskDownload\\思否\\20年spring boot+vue课程源码\\课程源码\\00-前端-后端代码-数据库\\xdclass_front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCU2Nyb2xsIGZyb20gJ2JldHRlci1zY3JvbGwnCmltcG9ydCBMb2FkaW5nIGZyb20gJy4uL2xvYWRpbmcvbG9hZGluZy52dWUnCmltcG9ydCBCdWJibGUgZnJvbSAnLi4vYnViYmxlL2J1YmJsZS52dWUnCmltcG9ydCBzY3JvbGxNaXhpbiBmcm9tICcuLi8uLi9jb21tb24vbWl4aW5zL3Njcm9sbCcKaW1wb3J0IGRlcHJlY2F0ZWRNaXhpbiBmcm9tICcuLi8uLi9jb21tb24vbWl4aW5zL2RlcHJlY2F0ZWQnCmltcG9ydCB7IGdldFJlY3QgfSBmcm9tICcuLi8uLi9jb21tb24vaGVscGVycy9kb20nCmltcG9ydCB7IGNhbWVsaXplIH0gZnJvbSAnLi4vLi4vY29tbW9uL2xhbmcvc3RyaW5nJwoKY29uc3QgQ09NUE9ORU5UX05BTUUgPSAnY3ViZS1zY3JvbGwnCmNvbnN0IERJUkVDVElPTl9IID0gJ2hvcml6b250YWwnCmNvbnN0IERJUkVDVElPTl9WID0gJ3ZlcnRpY2FsJwpjb25zdCBERUZBVUxUX1JFRlJFU0hfVFhUID0gJ1JlZnJlc2ggc3VjY2VzcycKY29uc3QgREVGQVVMVF9TVE9QX1RJTUUgPSA2MDAKCmNvbnN0IEVWRU5UX0NMSUNLID0gJ2NsaWNrJwpjb25zdCBFVkVOVF9QVUxMSU5HX0RPV04gPSAncHVsbGluZy1kb3duJwpjb25zdCBFVkVOVF9QVUxMSU5HX1VQID0gJ3B1bGxpbmctdXAnCgpjb25zdCBFVkVOVF9TQ1JPTEwgPSAnc2Nyb2xsJwpjb25zdCBFVkVOVF9CRUZPUkVfU0NST0xMX1NUQVJUID0gJ2JlZm9yZS1zY3JvbGwtc3RhcnQnCmNvbnN0IEVWRU5UX1NDUk9MTF9FTkQgPSAnc2Nyb2xsLWVuZCcKCmNvbnN0IE5FU1RfTU9ERV9OT05FID0gJ25vbmUnCmNvbnN0IE5FU1RfTU9ERV9OQVRJVkUgPSAnbmF0aXZlJwoKY29uc3QgU0NST0xMX0VWRU5UUyA9IFtFVkVOVF9TQ1JPTEwsIEVWRU5UX0JFRk9SRV9TQ1JPTExfU1RBUlQsIEVWRU5UX1NDUk9MTF9FTkRdCgpjb25zdCBERUZBVUxUX09QVElPTlMgPSB7CiAgb2JzZXJ2ZURPTTogdHJ1ZSwKICBjbGljazogdHJ1ZSwKICBwcm9iZVR5cGU6IDEsCiAgc2Nyb2xsYmFyOiBmYWxzZSwKICBwdWxsRG93blJlZnJlc2g6IGZhbHNlLAogIHB1bGxVcExvYWQ6IGZhbHNlCn0KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiBDT01QT05FTlRfTkFNRSwKICBtaXhpbnM6IFtzY3JvbGxNaXhpbiwgZGVwcmVjYXRlZE1peGluXSwKICBwcm92aWRlKCkgewogICAgcmV0dXJuIHsKICAgICAgcGFyZW50U2Nyb2xsOiB0aGlzCiAgICB9CiAgfSwKICBpbmplY3Q6IHsKICAgIHBhcmVudFNjcm9sbDogewogICAgICBkZWZhdWx0OiBudWxsCiAgICB9CiAgfSwKICBwcm9wczogewogICAgZGF0YTogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW10KICAgICAgfQogICAgfSwKICAgIHNjcm9sbEV2ZW50czogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW10KICAgICAgfSwKICAgICAgdmFsaWRhdG9yKGFycikgewogICAgICAgIHJldHVybiBhcnIuZXZlcnkoKGl0ZW0pID0+IHsKICAgICAgICAgIHJldHVybiBTQ1JPTExfRVZFTlRTLmluZGV4T2YoaXRlbSkgIT09IC0xCiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgIC8vIFRPRE86IHBsYW4gdG8gcmVtb3ZlIGF0IDEuMTAuMAogICAgbGlzdGVuU2Nyb2xsOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZCwKICAgICAgZGVwcmVjYXRlZDogewogICAgICAgIHJlcGxhY2VkQnk6ICdzY3JvbGwtZXZlbnRzJwogICAgICB9CiAgICB9LAogICAgbGlzdGVuQmVmb3JlU2Nyb2xsOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZCwKICAgICAgZGVwcmVjYXRlZDogewogICAgICAgIHJlcGxhY2VkQnk6ICdzY3JvbGwtZXZlbnRzJwogICAgICB9CiAgICB9LAogICAgZGlyZWN0aW9uOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogRElSRUNUSU9OX1YKICAgIH0sCiAgICByZWZyZXNoRGVsYXk6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAyMAogICAgfSwKICAgIG5lc3RNb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogTkVTVF9NT0RFX05PTkUKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBiZWZvcmVQdWxsRG93bjogdHJ1ZSwKICAgICAgaXNQdWxsaW5nRG93bjogZmFsc2UsCiAgICAgIGlzUHVsbFVwTG9hZDogZmFsc2UsCiAgICAgIHB1bGxVcE5vTW9yZTogZmFsc2UsCiAgICAgIGJ1YmJsZVk6IDAsCiAgICAgIHB1bGxEb3duU3R5bGU6ICcnLAogICAgICBwdWxsRG93blN0b3A6IDQwLAogICAgICBwdWxsRG93bkhlaWdodDogNjAsCiAgICAgIHB1bGxVcEhlaWdodDogMAogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHB1bGxEb3duUmVmcmVzaCgpIHsKICAgICAgbGV0IHB1bGxEb3duUmVmcmVzaCA9IHRoaXMub3B0aW9ucy5wdWxsRG93blJlZnJlc2gKICAgICAgaWYgKCFwdWxsRG93blJlZnJlc2gpIHsKICAgICAgICByZXR1cm4gcHVsbERvd25SZWZyZXNoCiAgICAgIH0KICAgICAgaWYgKHB1bGxEb3duUmVmcmVzaCA9PT0gdHJ1ZSkgewogICAgICAgIHB1bGxEb3duUmVmcmVzaCA9IHt9CiAgICAgIH0KICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe3N0b3A6IHRoaXMucHVsbERvd25TdG9wfSwgcHVsbERvd25SZWZyZXNoKQogICAgfSwKICAgIHB1bGxVcExvYWQoKSB7CiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMucHVsbFVwTG9hZAogICAgfSwKICAgIHB1bGxVcFR4dCgpIHsKICAgICAgY29uc3QgcHVsbFVwTG9hZCA9IHRoaXMucHVsbFVwTG9hZAogICAgICBjb25zdCB0eHQgPSBwdWxsVXBMb2FkICYmIHB1bGxVcExvYWQudHh0CiAgICAgIGNvbnN0IG1vcmVUeHQgPSAodHh0ICYmIHR4dC5tb3JlKSB8fCAnJwogICAgICBjb25zdCBub01vcmVUeHQgPSAodHh0ICYmIHR4dC5ub01vcmUpIHx8ICcnCgogICAgICByZXR1cm4gdGhpcy5wdWxsVXBOb01vcmUgPyBub01vcmVUeHQgOiBtb3JlVHh0CiAgICB9LAogICAgcmVmcmVzaFR4dCgpIHsKICAgICAgY29uc3QgcHVsbERvd25SZWZyZXNoID0gdGhpcy5wdWxsRG93blJlZnJlc2gKICAgICAgcmV0dXJuIChwdWxsRG93blJlZnJlc2ggJiYgcHVsbERvd25SZWZyZXNoLnR4dCkgfHwgREVGQVVMVF9SRUZSRVNIX1RYVAogICAgfSwKICAgIGZpbmFsU2Nyb2xsRXZlbnRzKCkgewogICAgICBjb25zdCBmaW5hbFNjcm9sbEV2ZW50cyA9IHRoaXMuc2Nyb2xsRXZlbnRzLnNsaWNlKCkKCiAgICAgIGlmICghZmluYWxTY3JvbGxFdmVudHMubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5saXN0ZW5TY3JvbGwgJiYgZmluYWxTY3JvbGxFdmVudHMucHVzaChFVkVOVF9TQ1JPTEwpCiAgICAgICAgdGhpcy5saXN0ZW5CZWZvcmVTY3JvbGwgJiYgZmluYWxTY3JvbGxFdmVudHMucHVzaChFVkVOVF9CRUZPUkVfU0NST0xMX1NUQVJUKQogICAgICB9CiAgICAgIHJldHVybiBmaW5hbFNjcm9sbEV2ZW50cwogICAgfSwKICAgIG5lZWRMaXN0ZW5TY3JvbGwoKSB7CiAgICAgIHJldHVybiB0aGlzLmZpbmFsU2Nyb2xsRXZlbnRzLmluZGV4T2YoRVZFTlRfU0NST0xMKSAhPT0gLTEgfHwgdGhpcy5wYXJlbnRTY3JvbGwKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBkYXRhKCkgewogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLmZvcmNlVXBkYXRlKHRydWUpCiAgICAgIH0sIHRoaXMucmVmcmVzaERlbGF5KQogICAgfSwKICAgIHB1bGxEb3duUmVmcmVzaDogewogICAgICBoYW5kbGVyKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgICAgaWYgKG5ld1ZhbCkgewogICAgICAgICAgdGhpcy5zY3JvbGwub3BlblB1bGxEb3duKG5ld1ZhbCkKICAgICAgICAgIGlmICghb2xkVmFsKSB7CiAgICAgICAgICAgIHRoaXMuX29uUHVsbERvd25SZWZyZXNoKCkKICAgICAgICAgICAgdGhpcy5fcHVsbERvd25SZWZyZXNoQ2hhbmdlSGFuZGxlcigpCiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoIW5ld1ZhbCAmJiBvbGRWYWwpIHsKICAgICAgICAgIHRoaXMuc2Nyb2xsLmNsb3NlUHVsbERvd24oKQogICAgICAgICAgdGhpcy5fb2ZmUHVsbERvd25SZWZyZXNoKCkKICAgICAgICAgIHRoaXMuX3B1bGxEb3duUmVmcmVzaENoYW5nZUhhbmRsZXIoKQogICAgICAgIH0KICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfSwKICAgIHB1bGxVcExvYWQ6IHsKICAgICAgaGFuZGxlcihuZXdWYWwsIG9sZFZhbCkgewogICAgICAgIGlmIChuZXdWYWwpIHsKICAgICAgICAgIHRoaXMuc2Nyb2xsLm9wZW5QdWxsVXAobmV3VmFsKQogICAgICAgICAgaWYgKCFvbGRWYWwpIHsKICAgICAgICAgICAgdGhpcy5fb25QdWxsVXBMb2FkKCkKICAgICAgICAgICAgdGhpcy5fcHVsbFVwTG9hZENoYW5nZUhhbmRsZXIoKQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKCFuZXdWYWwgJiYgb2xkVmFsKSB7CiAgICAgICAgICB0aGlzLnNjcm9sbC5jbG9zZVB1bGxVcCgpCiAgICAgICAgICB0aGlzLl9vZmZQdWxsVXBMb2FkKCkKICAgICAgICAgIHRoaXMuX3B1bGxVcExvYWRDaGFuZ2VIYW5kbGVyKCkKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUKICAgIH0KICB9LAogIGFjdGl2YXRlZCgpIHsKICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgICB0aGlzLmVuYWJsZSgpCiAgfSwKICBkZWFjdGl2YXRlZCgpIHsKICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgICB0aGlzLmRpc2FibGUoKQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgdGhpcy5pbml0U2Nyb2xsKCkKICAgIH0pCiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy5kZXN0cm95KCkKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXRTY3JvbGwoKSB7CiAgICAgIGlmICghdGhpcy4kcmVmcy53cmFwcGVyKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgdGhpcy5fY2FsY3VsYXRlTWluSGVpZ2h0KCkKCiAgICAgIGxldCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9PUFRJT05TLCB7CiAgICAgICAgc2Nyb2xsWTogdGhpcy5kaXJlY3Rpb24gPT09IERJUkVDVElPTl9WLAogICAgICAgIHNjcm9sbFg6IHRoaXMuZGlyZWN0aW9uID09PSBESVJFQ1RJT05fSCwKICAgICAgICBwcm9iZVR5cGU6IHRoaXMubmVlZExpc3RlblNjcm9sbCA/IDMgOiAxCiAgICAgIH0sIHRoaXMub3B0aW9ucykKCiAgICAgIHRoaXMuc2Nyb2xsID0gbmV3IEJTY3JvbGwodGhpcy4kcmVmcy53cmFwcGVyLCBvcHRpb25zKQoKICAgICAgdGhpcy5wYXJlbnRTY3JvbGwgJiYgdGhpcy5uZXN0TW9kZSAhPT0gTkVTVF9NT0RFX05PTkUgJiYgdGhpcy5faGFuZGxlTmVzdFNjcm9sbCgpCgogICAgICB0aGlzLl9saXN0ZW5TY3JvbGxFdmVudHMoKQoKICAgICAgaWYgKHRoaXMucHVsbERvd25SZWZyZXNoKSB7CiAgICAgICAgdGhpcy5fb25QdWxsRG93blJlZnJlc2goKQogICAgICAgIHRoaXMuX3B1bGxEb3duUmVmcmVzaENoYW5nZUhhbmRsZXIoKQogICAgICB9CgogICAgICBpZiAodGhpcy5wdWxsVXBMb2FkKSB7CiAgICAgICAgdGhpcy5fb25QdWxsVXBMb2FkKCkKICAgICAgICB0aGlzLl9wdWxsVXBMb2FkQ2hhbmdlSGFuZGxlcigpCiAgICAgIH0KICAgIH0sCiAgICBkaXNhYmxlKCkgewogICAgICB0aGlzLnNjcm9sbCAmJiB0aGlzLnNjcm9sbC5kaXNhYmxlKCkKICAgIH0sCiAgICBlbmFibGUoKSB7CiAgICAgIHRoaXMuc2Nyb2xsICYmIHRoaXMuc2Nyb2xsLmVuYWJsZSgpCiAgICB9LAogICAgcmVmcmVzaCgpIHsKICAgICAgdGhpcy5fY2FsY3VsYXRlTWluSGVpZ2h0KCkKICAgICAgdGhpcy5zY3JvbGwgJiYgdGhpcy5zY3JvbGwucmVmcmVzaCgpCiAgICB9LAogICAgZGVzdHJveSgpIHsKICAgICAgdGhpcy5zY3JvbGwgJiYgdGhpcy5zY3JvbGwuZGVzdHJveSgpCiAgICAgIHRoaXMuc2Nyb2xsID0gbnVsbAogICAgfSwKICAgIHNjcm9sbFRvKCkgewogICAgICB0aGlzLnNjcm9sbCAmJiB0aGlzLnNjcm9sbC5zY3JvbGxUby5hcHBseSh0aGlzLnNjcm9sbCwgYXJndW1lbnRzKQogICAgfSwKICAgIHNjcm9sbFRvRWxlbWVudCgpIHsKICAgICAgdGhpcy5zY3JvbGwgJiYgdGhpcy5zY3JvbGwuc2Nyb2xsVG9FbGVtZW50LmFwcGx5KHRoaXMuc2Nyb2xsLCBhcmd1bWVudHMpCiAgICB9LAogICAgY2xpY2tJdGVtKGl0ZW0pIHsKICAgICAgdGhpcy4kZW1pdChFVkVOVF9DTElDSywgaXRlbSkKICAgIH0sCiAgICBhc3luYyBmb3JjZVVwZGF0ZShkaXJ0eSA9IGZhbHNlLCBub21vcmUgPSBmYWxzZSkgewogICAgICBpZiAodGhpcy5pc1B1bGxEb3duVXBkYXRpbmcpIHsKICAgICAgICByZXR1cm4KICAgICAgfQoKICAgICAgaWYgKHRoaXMucHVsbERvd25SZWZyZXNoICYmIHRoaXMuaXNQdWxsaW5nRG93bikgewogICAgICAgIHRoaXMuaXNQdWxsaW5nRG93biA9IGZhbHNlCiAgICAgICAgdGhpcy5pc1B1bGxEb3duVXBkYXRpbmcgPSB0cnVlCiAgICAgICAgYXdhaXQgdGhpcy5fd2FpdEZpbmlzaFB1bGxEb3duKCkKICAgICAgICB0aGlzLmlzUHVsbERvd25VcGRhdGluZyA9IGZhbHNlCiAgICAgICAgYXdhaXQgdGhpcy5fd2FpdFJlc2V0UHVsbERvd24oZGlydHkpCiAgICAgIH0gZWxzZSBpZiAodGhpcy5wdWxsVXBMb2FkICYmIHRoaXMuaXNQdWxsVXBMb2FkKSB7CiAgICAgICAgdGhpcy5pc1B1bGxVcExvYWQgPSBmYWxzZQogICAgICAgIHRoaXMuc2Nyb2xsLmZpbmlzaFB1bGxVcCgpCiAgICAgICAgdGhpcy5wdWxsVXBOb01vcmUgPSAhZGlydHkgfHwgbm9tb3JlCiAgICAgIH0KCiAgICAgIGRpcnR5ICYmIHRoaXMucmVmcmVzaCgpCiAgICB9LAogICAgcmVzZXRQdWxsVXBUeHQoKSB7CiAgICAgIHRoaXMucHVsbFVwTm9Nb3JlID0gZmFsc2UKICAgIH0sCiAgICBfbGlzdGVuU2Nyb2xsRXZlbnRzKCkgewogICAgICB0aGlzLmZpbmFsU2Nyb2xsRXZlbnRzLmZvckVhY2goKGV2ZW50KSA9PiB7CiAgICAgICAgdGhpcy5zY3JvbGwub24oY2FtZWxpemUoZXZlbnQpLCAoLi4uYXJncykgPT4gewogICAgICAgICAgdGhpcy4kZW1pdChldmVudCwgLi4uYXJncykKICAgICAgICB9KQogICAgICB9KQogICAgfSwKICAgIF9oYW5kbGVOZXN0U2Nyb2xsKCkgewogICAgICAvLyB3YWl0aW5nIHNjcm9sbCBpbml0aWFsCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICBjb25zdCBpbm5lclNjcm9sbCA9IHRoaXMuc2Nyb2xsCiAgICAgICAgY29uc3Qgb3V0ZXJTY3JvbGwgPSB0aGlzLnBhcmVudFNjcm9sbC5zY3JvbGwKICAgICAgICBjb25zdCBzY3JvbGxzID0gW2lubmVyU2Nyb2xsLCBvdXRlclNjcm9sbF0KICAgICAgICBzY3JvbGxzLmZvckVhY2goKHNjcm9sbCwgaW5kZXgsIGFycikgPT4gewogICAgICAgICAgLy8gc2Nyb2xsIGVuZGVkIGFsd2F5cyBlbmFibGUgdGhlbQogICAgICAgICAgc2Nyb2xsLm9uKCd0b3VjaEVuZCcsICgpID0+IHsKICAgICAgICAgICAgb3V0ZXJTY3JvbGwuZW5hYmxlKCkKICAgICAgICAgICAgaW5uZXJTY3JvbGwuZW5hYmxlKCkKICAgICAgICAgICAgLy8gd2hlbiBpbm5lciBzY3JvbGwgcmVhY2hpbmcgYm91bmRhcnksIHdlIHdpbGwgZGlzYWJsZSBpbm5lciBzY3JvbGwsIHNvIHdoZW4gJ3RvdWNoZW5kJyBldmVudCBmaXJlLAogICAgICAgICAgICAvLyB0aGUgaW5uZXIgc2Nyb2xsIHdpbGwgbm90IHJlc2V0IGluaXRpYXRlZCB3aXRoaW4gJ19lbmQnIG1ldGhvZCBpbiBiZXR0ZXItc2Nyb2xsLgogICAgICAgICAgICAvLyB0aGVuIGxlYWQgdG8gaW5uZXIgYW5kIG91dGVyIHNjcm9sbHMgdG9nZXRoZXIgd2hlbiB3ZSB0b3VjaCBhbmQgbW92ZSBvbiB0aGUgb3V0ZXIgc2Nyb2xsIGVsZW1lbnQsCiAgICAgICAgICAgIC8vIHNvIGhlcmUgd2UgcmVzZXQgaW5uZXIgc2Nyb2xsJ3MgJ2luaXRpYXRlZCcgbWFudWFsbHkuCiAgICAgICAgICAgIGlubmVyU2Nyb2xsLmluaXRpYXRlZCA9IGZhbHNlCiAgICAgICAgICB9KQoKICAgICAgICAgIHNjcm9sbC5vbignYmVmb3JlU2Nyb2xsU3RhcnQnLCAoKSA9PiB7CiAgICAgICAgICAgIHRoaXMudG91Y2hTdGFydE1vbWVudCA9IHRydWUKICAgICAgICAgICAgY29uc3QgYW5vdGhlclNjcm9sbCA9IGFyclsoaW5kZXggKyAxKSAlIDJdCiAgICAgICAgICAgIGFub3RoZXJTY3JvbGwuc3RvcCgpCiAgICAgICAgICAgIGFub3RoZXJTY3JvbGwucmVzZXRQb3NpdGlvbigpCiAgICAgICAgICB9KQogICAgICAgIH0pCgogICAgICAgIGlubmVyU2Nyb2xsLm9uKCdzY3JvbGwnLCAocG9zKSA9PiB7CiAgICAgICAgICAvLyBpZiBzY3JvbGwgZXZlbnQgdHJpZ2dlcmVkIG5vdCBieSB0b3VjaCBldmVudCwgc3VjaCBhcyBieSAnc2Nyb2xsVG8nIG1ldGhvZAogICAgICAgICAgaWYgKCFpbm5lclNjcm9sbC5pbml0aWF0ZWQgfHwgaW5uZXJTY3JvbGwuaXNJblRyYW5zaXRpb24pIHsKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHRoaXMubmVzdE1vZGUgPT09IE5FU1RfTU9ERV9OQVRJVkUgJiYgIXRoaXMudG91Y2hTdGFydE1vbWVudCkgewogICAgICAgICAgICByZXR1cm4KICAgICAgICAgIH0KCiAgICAgICAgICBjb25zdCByZWFjaEJvdW5kYXJ5ID0gdGhpcy5fY2hlY2tSZWFjaEJvdW5kYXJ5KHBvcykKICAgICAgICAgIGlmIChyZWFjaEJvdW5kYXJ5KSB7CiAgICAgICAgICAgIGlubmVyU2Nyb2xsLnJlc2V0UG9zaXRpb24oKQogICAgICAgICAgICBpbm5lclNjcm9sbC5kaXNhYmxlKCkKICAgICAgICAgICAgLy8gUHJldmVudCBvdXRlciBzY3JvbGwgaGF2ZSBhIGJvdW5jaW5nIHN0ZXAgd2hlbiBlbmFibGVkIGluICdmcmVlJyBuZXN0TW9kZS4KICAgICAgICAgICAgb3V0ZXJTY3JvbGwucG9pbnRYID0gaW5uZXJTY3JvbGwucG9pbnRYCiAgICAgICAgICAgIG91dGVyU2Nyb2xsLnBvaW50WSA9IGlubmVyU2Nyb2xsLnBvaW50WQogICAgICAgICAgICBvdXRlclNjcm9sbC5lbmFibGUoKQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgb3V0ZXJTY3JvbGwuZGlzYWJsZSgpCiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnRvdWNoU3RhcnRNb21lbnQgPSBmYWxzZQogICAgICAgIH0pCiAgICAgIH0pCiAgICB9LAogICAgX2NoZWNrUmVhY2hCb3VuZGFyeShwb3MpIHsKICAgICAgY29uc3QgZGlzdFggPSB0aGlzLnNjcm9sbC5kaXN0WAogICAgICBjb25zdCBkaXN0WSA9IHRoaXMuc2Nyb2xsLmRpc3RZCiAgICAgIGNvbnN0IHJlYWNoQm91bmRhcnlYID0gZGlzdFggPiAwID8gcG9zLnggPj0gdGhpcy5zY3JvbGwubWluU2Nyb2xsWCA6IGRpc3RYIDwgMCA/IHBvcy54IDw9IHRoaXMuc2Nyb2xsLm1heFNjcm9sbFggOiBmYWxzZQogICAgICBjb25zdCByZWFjaEJvdW5kYXJ5WSA9IGRpc3RZID4gMCA/IHBvcy55ID49IHRoaXMuc2Nyb2xsLm1pblNjcm9sbFkgOiBkaXN0WSA8IDAgPyBwb3MueSA8PSB0aGlzLnNjcm9sbC5tYXhTY3JvbGxZIDogZmFsc2UKICAgICAgY29uc3QgZnJlZVNjcm9sbCA9IHRoaXMuc2Nyb2xsLmZyZWVTY3JvbGwKICAgICAgY29uc3QgaGFzSG9yaXpvbnRhbFNjcm9sbCA9IHRoaXMuc2Nyb2xsLmhhc0hvcml6b250YWxTY3JvbGwKICAgICAgY29uc3QgaGFzVmVydGljYWxTY3JvbGwgPSB0aGlzLnNjcm9sbC5oYXNWZXJ0aWNhbFNjcm9sbAoKICAgICAgaWYgKCFoYXNIb3Jpem9udGFsU2Nyb2xsICYmICFoYXNWZXJ0aWNhbFNjcm9sbCkgewogICAgICAgIHJldHVybiB0cnVlCiAgICAgIH0KCiAgICAgIGlmIChmcmVlU2Nyb2xsKSB7CiAgICAgICAgcmV0dXJuIHJlYWNoQm91bmRhcnlYIHx8IHJlYWNoQm91bmRhcnlZCiAgICAgIH0KCiAgICAgIGxldCByZWFjaEJvdW5kYXJ5CiAgICAgIGlmICh0aGlzLnNjcm9sbC5tb3ZpbmdEaXJlY3Rpb25YKSB7CiAgICAgICAgcmVhY2hCb3VuZGFyeSA9IHJlYWNoQm91bmRhcnlYCiAgICAgIH0gZWxzZSBpZiAodGhpcy5zY3JvbGwubW92aW5nRGlyZWN0aW9uWSkgewogICAgICAgIHJlYWNoQm91bmRhcnkgPSByZWFjaEJvdW5kYXJ5WQogICAgICB9CiAgICAgIHJldHVybiByZWFjaEJvdW5kYXJ5CiAgICB9LAogICAgX2NhbGN1bGF0ZU1pbkhlaWdodCgpIHsKICAgICAgY29uc3QgeyB3cmFwcGVyLCBsaXN0V3JhcHBlciB9ID0gdGhpcy4kcmVmcwogICAgICBjb25zdCBwdWxsVXBMb2FkID0gdGhpcy5wdWxsVXBMb2FkCiAgICAgIGNvbnN0IHB1bGxEb3duUmVmcmVzaCA9IHRoaXMucHVsbERvd25SZWZyZXNoCiAgICAgIGxldCBtaW5IZWlnaHQgPSAwCgogICAgICBpZiAocHVsbERvd25SZWZyZXNoIHx8IHB1bGxVcExvYWQpIHsKICAgICAgICBjb25zdCB3cmFwcGVySGVpZ2h0ID0gZ2V0UmVjdCh3cmFwcGVyKS5oZWlnaHQKICAgICAgICBtaW5IZWlnaHQgPSB3cmFwcGVySGVpZ2h0ICsgMQogICAgICAgIGlmIChwdWxsVXBMb2FkICYmIHB1bGxVcExvYWQudmlzaWJsZSkgewogICAgICAgICAgLy8gbWluSGVpZ2h0ID0gd3JhcHBlckhlaWdodCArIDEgLSBwdWxsVXBIZWlnaHQsIHRoZW4gcHVsbFVwTG9hZCB0ZXh0IGlzIHZpc2libGUKICAgICAgICAgIC8vIHdoZW4gY29udGVudCdzIGhlaWdodCBpcyBub3QgbGFyZ2VyIHRoYW4gd3JhcHBlciBoZWlnaHQKICAgICAgICAgIG1pbkhlaWdodCAtPSB0aGlzLnB1bGxVcEhlaWdodAogICAgICAgIH0KICAgICAgfQoKICAgICAgbGlzdFdyYXBwZXIuc3R5bGUubWluSGVpZ2h0ID0gYCR7bWluSGVpZ2h0fXB4YAogICAgfSwKICAgIF9vblB1bGxEb3duUmVmcmVzaCgpIHsKICAgICAgdGhpcy5zY3JvbGwub24oJ3B1bGxpbmdEb3duJywgdGhpcy5fcHVsbERvd25IYW5kbGUpCiAgICAgIHRoaXMuc2Nyb2xsLm9uKCdzY3JvbGwnLCB0aGlzLl9wdWxsRG93blNjcm9sbEhhbmRsZSkKICAgIH0sCiAgICBfb2ZmUHVsbERvd25SZWZyZXNoKCkgewogICAgICB0aGlzLnNjcm9sbC5vZmYoJ3B1bGxpbmdEb3duJywgdGhpcy5fcHVsbERvd25IYW5kbGUpCiAgICAgIHRoaXMuc2Nyb2xsLm9mZignc2Nyb2xsJywgdGhpcy5fcHVsbERvd25TY3JvbGxIYW5kbGUpCiAgICB9LAogICAgX3B1bGxEb3duUmVmcmVzaENoYW5nZUhhbmRsZXIoKSB7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLl9nZXRQdWxsRG93bkVsZUhlaWdodCgpCiAgICAgICAgdGhpcy5fY2FsY3VsYXRlTWluSGVpZ2h0KCkKICAgICAgfSkKICAgIH0sCiAgICBfcHVsbERvd25IYW5kbGUoKSB7CiAgICAgIGlmICh0aGlzLnJlc2V0UHVsbERvd25UaW1lcikgewogICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnJlc2V0UHVsbERvd25UaW1lcikKICAgICAgfQogICAgICB0aGlzLmJlZm9yZVB1bGxEb3duID0gZmFsc2UKICAgICAgdGhpcy5pc1B1bGxpbmdEb3duID0gdHJ1ZQogICAgICB0aGlzLiRlbWl0KEVWRU5UX1BVTExJTkdfRE9XTikKICAgIH0sCiAgICBfcHVsbERvd25TY3JvbGxIYW5kbGUocG9zKSB7CiAgICAgIGlmICh0aGlzLmJlZm9yZVB1bGxEb3duKSB7CiAgICAgICAgdGhpcy5idWJibGVZID0gTWF0aC5tYXgoMCwgcG9zLnkgLSB0aGlzLnB1bGxEb3duSGVpZ2h0KQogICAgICAgIHRoaXMucHVsbERvd25TdHlsZSA9IGB0b3A6JHtNYXRoLm1pbihwb3MueSAtIHRoaXMucHVsbERvd25IZWlnaHQsIDApfXB4YAogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYnViYmxlWSA9IDAKICAgICAgICB0aGlzLnB1bGxEb3duU3R5bGUgPSBgdG9wOiR7TWF0aC5taW4ocG9zLnkgLSB0aGlzLnB1bGxEb3duU3RvcCwgMCl9cHhgCiAgICAgIH0KICAgIH0sCiAgICBfcHVsbFVwTG9hZENoYW5nZUhhbmRsZXIoKSB7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLl9nZXRQdWxsVXBFbGVIZWlnaHQoKQogICAgICAgIHRoaXMuX2NhbGN1bGF0ZU1pbkhlaWdodCgpCiAgICAgIH0pCiAgICB9LAogICAgX29uUHVsbFVwTG9hZCgpIHsKICAgICAgdGhpcy5zY3JvbGwub24oJ3B1bGxpbmdVcCcsIHRoaXMuX3B1bGxVcEhhbmRsZSkKICAgIH0sCiAgICBfb2ZmUHVsbFVwTG9hZCgpIHsKICAgICAgdGhpcy5zY3JvbGwub2ZmKCdwdWxsaW5nVXAnLCB0aGlzLl9wdWxsVXBIYW5kbGUpCiAgICB9LAogICAgX3B1bGxVcEhhbmRsZSgpIHsKICAgICAgdGhpcy5pc1B1bGxVcExvYWQgPSB0cnVlCiAgICAgIHRoaXMuJGVtaXQoRVZFTlRfUFVMTElOR19VUCkKICAgIH0sCiAgICBfd2FpdEZpbmlzaFB1bGxEb3duKG5leHQpIHsKICAgICAgY29uc3Qge3N0b3BUaW1lID0gREVGQVVMVF9TVE9QX1RJTUV9ID0gdGhpcy5wdWxsRG93blJlZnJlc2gKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgdGhpcy5zY3JvbGwuZmluaXNoUHVsbERvd24oKQogICAgICAgICAgcmVzb2x2ZSgpCiAgICAgICAgfSwgc3RvcFRpbWUpCiAgICAgIH0pCiAgICB9LAogICAgX3dhaXRSZXNldFB1bGxEb3duKGRpcnR5KSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICB0aGlzLnJlc2V0UHVsbERvd25UaW1lciA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgdGhpcy5wdWxsRG93blN0eWxlID0gYHRvcDogLSR7dGhpcy5wdWxsRG93bkhlaWdodH1weGAKICAgICAgICAgIHRoaXMuYmVmb3JlUHVsbERvd24gPSB0cnVlCiAgICAgICAgICByZXNvbHZlKCkKICAgICAgICB9LCB0aGlzLnNjcm9sbC5vcHRpb25zLmJvdW5jZVRpbWUpCiAgICAgIH0pCiAgICB9LAogICAgX2dldFB1bGxEb3duRWxlSGVpZ2h0KCkgewogICAgICBsZXQgcHVsbGRvd24gPSB0aGlzLiRyZWZzLnB1bGxkb3duCiAgICAgIGlmICghcHVsbGRvd24pIHsKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICBwdWxsZG93biA9IHB1bGxkb3duLmZpcnN0Q2hpbGQKICAgICAgdGhpcy5wdWxsRG93bkhlaWdodCA9IGdldFJlY3QocHVsbGRvd24pLmhlaWdodAoKICAgICAgdGhpcy5iZWZvcmVQdWxsRG93biA9IGZhbHNlCiAgICAgIHRoaXMuaXNQdWxsaW5nRG93biA9IHRydWUKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMucHVsbERvd25TdG9wID0gZ2V0UmVjdChwdWxsZG93bikuaGVpZ2h0CgogICAgICAgIHRoaXMuYmVmb3JlUHVsbERvd24gPSB0cnVlCiAgICAgICAgdGhpcy5pc1B1bGxpbmdEb3duID0gZmFsc2UKICAgICAgfSkKICAgIH0sCiAgICBfZ2V0UHVsbFVwRWxlSGVpZ2h0KCkgewogICAgICBjb25zdCBsaXN0V3JhcHBlciA9IHRoaXMuJHJlZnMubGlzdFdyYXBwZXIKICAgICAgY29uc3QgcHVsbHVwID0gbGlzdFdyYXBwZXIubmV4dEVsZW1lbnRTaWJsaW5nCiAgICAgIGlmICghcHVsbHVwKSB7CiAgICAgICAgdGhpcy5wdWxsVXBIZWlnaHQgPSAwCiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgdGhpcy5wdWxsVXBIZWlnaHQgPSBnZXRSZWN0KHB1bGx1cCkuaGVpZ2h0CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBMb2FkaW5nLAogICAgQnViYmxlCiAgfQp9Cg=="},{"version":3,"sources":["scroll.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"scroll.vue","sourceRoot":"node_modules/cube-ui/src/components/scroll","sourcesContent":["<template>\n  <div ref=\"wrapper\" class=\"cube-scroll-wrapper\">\n    <div class=\"cube-scroll-content\">\n      <div ref=\"listWrapper\" class=\"cube-scroll-list-wrapper\">\n        <slot>\n          <ul class=\"cube-scroll-list\">\n            <li\n              class=\"cube-scroll-item border-bottom-1px\"\n              v-for=\"(item, index) in data\"\n              :key=\"index\"\n              @click=\"clickItem(item)\">{{item}}</li>\n          </ul>\n        </slot>\n      </div>\n      <slot name=\"pullup\" :pullUpLoad=\"pullUpLoad\" :isPullUpLoad=\"isPullUpLoad\">\n        <div class=\"cube-pullup-wrapper\" v-if=\"pullUpLoad\">\n          <div class=\"before-trigger\" v-if=\"!isPullUpLoad\">\n            <span>{{ pullUpTxt }}</span>\n          </div>\n          <div class=\"after-trigger\" v-else>\n            <loading></loading>\n          </div>\n        </div>\n      </slot>\n    </div>\n    <div v-if=\"pullDownRefresh\" class=\"cube-pulldown\" ref=\"pulldown\">\n      <slot\n        name=\"pulldown\"\n        :pullDownRefresh=\"pullDownRefresh\"\n        :pullDownStyle=\"pullDownStyle\"\n        :beforePullDown=\"beforePullDown\"\n        :isPullingDown=\"isPullingDown\"\n        :bubbleY=\"bubbleY\">\n        <div class=\"cube-pulldown-wrapper\" :style=\"pullDownStyle\">\n          <div class=\"before-trigger\" v-show=\"beforePullDown\">\n            <bubble :y=\"bubbleY\" class=\"bubble\"></bubble>\n          </div>\n          <div class=\"after-trigger\" v-show=\"!beforePullDown\">\n            <div v-show=\"isPullingDown\" class=\"loading\">\n              <loading></loading>\n            </div>\n            <div v-show=\"!isPullingDown\" class=\"cube-pulldown-loaded\"><span>{{ refreshTxt }}</span></div>\n          </div>\n        </div>\n      </slot>\n    </div>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import BScroll from 'better-scroll'\n  import Loading from '../loading/loading.vue'\n  import Bubble from '../bubble/bubble.vue'\n  import scrollMixin from '../../common/mixins/scroll'\n  import deprecatedMixin from '../../common/mixins/deprecated'\n  import { getRect } from '../../common/helpers/dom'\n  import { camelize } from '../../common/lang/string'\n\n  const COMPONENT_NAME = 'cube-scroll'\n  const DIRECTION_H = 'horizontal'\n  const DIRECTION_V = 'vertical'\n  const DEFAULT_REFRESH_TXT = 'Refresh success'\n  const DEFAULT_STOP_TIME = 600\n\n  const EVENT_CLICK = 'click'\n  const EVENT_PULLING_DOWN = 'pulling-down'\n  const EVENT_PULLING_UP = 'pulling-up'\n\n  const EVENT_SCROLL = 'scroll'\n  const EVENT_BEFORE_SCROLL_START = 'before-scroll-start'\n  const EVENT_SCROLL_END = 'scroll-end'\n\n  const NEST_MODE_NONE = 'none'\n  const NEST_MODE_NATIVE = 'native'\n\n  const SCROLL_EVENTS = [EVENT_SCROLL, EVENT_BEFORE_SCROLL_START, EVENT_SCROLL_END]\n\n  const DEFAULT_OPTIONS = {\n    observeDOM: true,\n    click: true,\n    probeType: 1,\n    scrollbar: false,\n    pullDownRefresh: false,\n    pullUpLoad: false\n  }\n\n  export default {\n    name: COMPONENT_NAME,\n    mixins: [scrollMixin, deprecatedMixin],\n    provide() {\n      return {\n        parentScroll: this\n      }\n    },\n    inject: {\n      parentScroll: {\n        default: null\n      }\n    },\n    props: {\n      data: {\n        type: Array,\n        default() {\n          return []\n        }\n      },\n      scrollEvents: {\n        type: Array,\n        default() {\n          return []\n        },\n        validator(arr) {\n          return arr.every((item) => {\n            return SCROLL_EVENTS.indexOf(item) !== -1\n          })\n        }\n      },\n      // TODO: plan to remove at 1.10.0\n      listenScroll: {\n        type: Boolean,\n        default: undefined,\n        deprecated: {\n          replacedBy: 'scroll-events'\n        }\n      },\n      listenBeforeScroll: {\n        type: Boolean,\n        default: undefined,\n        deprecated: {\n          replacedBy: 'scroll-events'\n        }\n      },\n      direction: {\n        type: String,\n        default: DIRECTION_V\n      },\n      refreshDelay: {\n        type: Number,\n        default: 20\n      },\n      nestMode: {\n        type: String,\n        default: NEST_MODE_NONE\n      }\n    },\n    data() {\n      return {\n        beforePullDown: true,\n        isPullingDown: false,\n        isPullUpLoad: false,\n        pullUpNoMore: false,\n        bubbleY: 0,\n        pullDownStyle: '',\n        pullDownStop: 40,\n        pullDownHeight: 60,\n        pullUpHeight: 0\n      }\n    },\n    computed: {\n      pullDownRefresh() {\n        let pullDownRefresh = this.options.pullDownRefresh\n        if (!pullDownRefresh) {\n          return pullDownRefresh\n        }\n        if (pullDownRefresh === true) {\n          pullDownRefresh = {}\n        }\n        return Object.assign({stop: this.pullDownStop}, pullDownRefresh)\n      },\n      pullUpLoad() {\n        return this.options.pullUpLoad\n      },\n      pullUpTxt() {\n        const pullUpLoad = this.pullUpLoad\n        const txt = pullUpLoad && pullUpLoad.txt\n        const moreTxt = (txt && txt.more) || ''\n        const noMoreTxt = (txt && txt.noMore) || ''\n\n        return this.pullUpNoMore ? noMoreTxt : moreTxt\n      },\n      refreshTxt() {\n        const pullDownRefresh = this.pullDownRefresh\n        return (pullDownRefresh && pullDownRefresh.txt) || DEFAULT_REFRESH_TXT\n      },\n      finalScrollEvents() {\n        const finalScrollEvents = this.scrollEvents.slice()\n\n        if (!finalScrollEvents.length) {\n          this.listenScroll && finalScrollEvents.push(EVENT_SCROLL)\n          this.listenBeforeScroll && finalScrollEvents.push(EVENT_BEFORE_SCROLL_START)\n        }\n        return finalScrollEvents\n      },\n      needListenScroll() {\n        return this.finalScrollEvents.indexOf(EVENT_SCROLL) !== -1 || this.parentScroll\n      }\n    },\n    watch: {\n      data() {\n        setTimeout(() => {\n          this.forceUpdate(true)\n        }, this.refreshDelay)\n      },\n      pullDownRefresh: {\n        handler(newVal, oldVal) {\n          if (newVal) {\n            this.scroll.openPullDown(newVal)\n            if (!oldVal) {\n              this._onPullDownRefresh()\n              this._pullDownRefreshChangeHandler()\n            }\n          }\n\n          if (!newVal && oldVal) {\n            this.scroll.closePullDown()\n            this._offPullDownRefresh()\n            this._pullDownRefreshChangeHandler()\n          }\n        },\n        deep: true\n      },\n      pullUpLoad: {\n        handler(newVal, oldVal) {\n          if (newVal) {\n            this.scroll.openPullUp(newVal)\n            if (!oldVal) {\n              this._onPullUpLoad()\n              this._pullUpLoadChangeHandler()\n            }\n          }\n\n          if (!newVal && oldVal) {\n            this.scroll.closePullUp()\n            this._offPullUpLoad()\n            this._pullUpLoadChangeHandler()\n          }\n        },\n        deep: true\n      }\n    },\n    activated() {\n      /* istanbul ignore next */\n      this.enable()\n    },\n    deactivated() {\n      /* istanbul ignore next */\n      this.disable()\n    },\n    mounted() {\n      this.$nextTick(() => {\n        this.initScroll()\n      })\n    },\n    beforeDestroy() {\n      this.destroy()\n    },\n    methods: {\n      initScroll() {\n        if (!this.$refs.wrapper) {\n          return\n        }\n        this._calculateMinHeight()\n\n        let options = Object.assign({}, DEFAULT_OPTIONS, {\n          scrollY: this.direction === DIRECTION_V,\n          scrollX: this.direction === DIRECTION_H,\n          probeType: this.needListenScroll ? 3 : 1\n        }, this.options)\n\n        this.scroll = new BScroll(this.$refs.wrapper, options)\n\n        this.parentScroll && this.nestMode !== NEST_MODE_NONE && this._handleNestScroll()\n\n        this._listenScrollEvents()\n\n        if (this.pullDownRefresh) {\n          this._onPullDownRefresh()\n          this._pullDownRefreshChangeHandler()\n        }\n\n        if (this.pullUpLoad) {\n          this._onPullUpLoad()\n          this._pullUpLoadChangeHandler()\n        }\n      },\n      disable() {\n        this.scroll && this.scroll.disable()\n      },\n      enable() {\n        this.scroll && this.scroll.enable()\n      },\n      refresh() {\n        this._calculateMinHeight()\n        this.scroll && this.scroll.refresh()\n      },\n      destroy() {\n        this.scroll && this.scroll.destroy()\n        this.scroll = null\n      },\n      scrollTo() {\n        this.scroll && this.scroll.scrollTo.apply(this.scroll, arguments)\n      },\n      scrollToElement() {\n        this.scroll && this.scroll.scrollToElement.apply(this.scroll, arguments)\n      },\n      clickItem(item) {\n        this.$emit(EVENT_CLICK, item)\n      },\n      async forceUpdate(dirty = false, nomore = false) {\n        if (this.isPullDownUpdating) {\n          return\n        }\n\n        if (this.pullDownRefresh && this.isPullingDown) {\n          this.isPullingDown = false\n          this.isPullDownUpdating = true\n          await this._waitFinishPullDown()\n          this.isPullDownUpdating = false\n          await this._waitResetPullDown(dirty)\n        } else if (this.pullUpLoad && this.isPullUpLoad) {\n          this.isPullUpLoad = false\n          this.scroll.finishPullUp()\n          this.pullUpNoMore = !dirty || nomore\n        }\n\n        dirty && this.refresh()\n      },\n      resetPullUpTxt() {\n        this.pullUpNoMore = false\n      },\n      _listenScrollEvents() {\n        this.finalScrollEvents.forEach((event) => {\n          this.scroll.on(camelize(event), (...args) => {\n            this.$emit(event, ...args)\n          })\n        })\n      },\n      _handleNestScroll() {\n        // waiting scroll initial\n        this.$nextTick(() => {\n          const innerScroll = this.scroll\n          const outerScroll = this.parentScroll.scroll\n          const scrolls = [innerScroll, outerScroll]\n          scrolls.forEach((scroll, index, arr) => {\n            // scroll ended always enable them\n            scroll.on('touchEnd', () => {\n              outerScroll.enable()\n              innerScroll.enable()\n              // when inner scroll reaching boundary, we will disable inner scroll, so when 'touchend' event fire,\n              // the inner scroll will not reset initiated within '_end' method in better-scroll.\n              // then lead to inner and outer scrolls together when we touch and move on the outer scroll element,\n              // so here we reset inner scroll's 'initiated' manually.\n              innerScroll.initiated = false\n            })\n\n            scroll.on('beforeScrollStart', () => {\n              this.touchStartMoment = true\n              const anotherScroll = arr[(index + 1) % 2]\n              anotherScroll.stop()\n              anotherScroll.resetPosition()\n            })\n          })\n\n          innerScroll.on('scroll', (pos) => {\n            // if scroll event triggered not by touch event, such as by 'scrollTo' method\n            if (!innerScroll.initiated || innerScroll.isInTransition) {\n              return\n            }\n\n            if (this.nestMode === NEST_MODE_NATIVE && !this.touchStartMoment) {\n              return\n            }\n\n            const reachBoundary = this._checkReachBoundary(pos)\n            if (reachBoundary) {\n              innerScroll.resetPosition()\n              innerScroll.disable()\n              // Prevent outer scroll have a bouncing step when enabled in 'free' nestMode.\n              outerScroll.pointX = innerScroll.pointX\n              outerScroll.pointY = innerScroll.pointY\n              outerScroll.enable()\n            } else {\n              outerScroll.disable()\n            }\n            this.touchStartMoment = false\n          })\n        })\n      },\n      _checkReachBoundary(pos) {\n        const distX = this.scroll.distX\n        const distY = this.scroll.distY\n        const reachBoundaryX = distX > 0 ? pos.x >= this.scroll.minScrollX : distX < 0 ? pos.x <= this.scroll.maxScrollX : false\n        const reachBoundaryY = distY > 0 ? pos.y >= this.scroll.minScrollY : distY < 0 ? pos.y <= this.scroll.maxScrollY : false\n        const freeScroll = this.scroll.freeScroll\n        const hasHorizontalScroll = this.scroll.hasHorizontalScroll\n        const hasVerticalScroll = this.scroll.hasVerticalScroll\n\n        if (!hasHorizontalScroll && !hasVerticalScroll) {\n          return true\n        }\n\n        if (freeScroll) {\n          return reachBoundaryX || reachBoundaryY\n        }\n\n        let reachBoundary\n        if (this.scroll.movingDirectionX) {\n          reachBoundary = reachBoundaryX\n        } else if (this.scroll.movingDirectionY) {\n          reachBoundary = reachBoundaryY\n        }\n        return reachBoundary\n      },\n      _calculateMinHeight() {\n        const { wrapper, listWrapper } = this.$refs\n        const pullUpLoad = this.pullUpLoad\n        const pullDownRefresh = this.pullDownRefresh\n        let minHeight = 0\n\n        if (pullDownRefresh || pullUpLoad) {\n          const wrapperHeight = getRect(wrapper).height\n          minHeight = wrapperHeight + 1\n          if (pullUpLoad && pullUpLoad.visible) {\n            // minHeight = wrapperHeight + 1 - pullUpHeight, then pullUpLoad text is visible\n            // when content's height is not larger than wrapper height\n            minHeight -= this.pullUpHeight\n          }\n        }\n\n        listWrapper.style.minHeight = `${minHeight}px`\n      },\n      _onPullDownRefresh() {\n        this.scroll.on('pullingDown', this._pullDownHandle)\n        this.scroll.on('scroll', this._pullDownScrollHandle)\n      },\n      _offPullDownRefresh() {\n        this.scroll.off('pullingDown', this._pullDownHandle)\n        this.scroll.off('scroll', this._pullDownScrollHandle)\n      },\n      _pullDownRefreshChangeHandler() {\n        this.$nextTick(() => {\n          this._getPullDownEleHeight()\n          this._calculateMinHeight()\n        })\n      },\n      _pullDownHandle() {\n        if (this.resetPullDownTimer) {\n          clearTimeout(this.resetPullDownTimer)\n        }\n        this.beforePullDown = false\n        this.isPullingDown = true\n        this.$emit(EVENT_PULLING_DOWN)\n      },\n      _pullDownScrollHandle(pos) {\n        if (this.beforePullDown) {\n          this.bubbleY = Math.max(0, pos.y - this.pullDownHeight)\n          this.pullDownStyle = `top:${Math.min(pos.y - this.pullDownHeight, 0)}px`\n        } else {\n          this.bubbleY = 0\n          this.pullDownStyle = `top:${Math.min(pos.y - this.pullDownStop, 0)}px`\n        }\n      },\n      _pullUpLoadChangeHandler() {\n        this.$nextTick(() => {\n          this._getPullUpEleHeight()\n          this._calculateMinHeight()\n        })\n      },\n      _onPullUpLoad() {\n        this.scroll.on('pullingUp', this._pullUpHandle)\n      },\n      _offPullUpLoad() {\n        this.scroll.off('pullingUp', this._pullUpHandle)\n      },\n      _pullUpHandle() {\n        this.isPullUpLoad = true\n        this.$emit(EVENT_PULLING_UP)\n      },\n      _waitFinishPullDown(next) {\n        const {stopTime = DEFAULT_STOP_TIME} = this.pullDownRefresh\n        return new Promise(resolve => {\n          setTimeout(() => {\n            this.scroll.finishPullDown()\n            resolve()\n          }, stopTime)\n        })\n      },\n      _waitResetPullDown(dirty) {\n        return new Promise(resolve => {\n          this.resetPullDownTimer = setTimeout(() => {\n            this.pullDownStyle = `top: -${this.pullDownHeight}px`\n            this.beforePullDown = true\n            resolve()\n          }, this.scroll.options.bounceTime)\n        })\n      },\n      _getPullDownEleHeight() {\n        let pulldown = this.$refs.pulldown\n        if (!pulldown) {\n          return\n        }\n        pulldown = pulldown.firstChild\n        this.pullDownHeight = getRect(pulldown).height\n\n        this.beforePullDown = false\n        this.isPullingDown = true\n        this.$nextTick(() => {\n          this.pullDownStop = getRect(pulldown).height\n\n          this.beforePullDown = true\n          this.isPullingDown = false\n        })\n      },\n      _getPullUpEleHeight() {\n        const listWrapper = this.$refs.listWrapper\n        const pullup = listWrapper.nextElementSibling\n        if (!pullup) {\n          this.pullUpHeight = 0\n          return\n        }\n        this.pullUpHeight = getRect(pullup).height\n      }\n    },\n    components: {\n      Loading,\n      Bubble\n    }\n  }\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\n  @require \"../../common/stylus/variable.styl\"\n\n  .cube-scroll-wrapper\n    position: relative\n    height: 100%\n    overflow: hidden\n\n  .cube-scroll-list-wrapper\n    overflow: hidden\n\n  .cube-pulldown-wrapper\n    position: absolute\n    width: 100%\n    left: 0\n    display: flex\n    justify-content: center\n    align-items: center\n    transition: all\n    .before-trigger\n      height: 54px\n      line-height: 0\n      padding-top: 6px\n    .after-trigger\n      .loading\n        padding: 8px 0\n      .cube-pulldown-loaded\n        padding: 12px 0\n\n  .cube-pullup-wrapper\n    width: 100%\n    display: flex\n    justify-content: center\n    align-items: center\n    .before-trigger\n      padding: 22px 0\n      min-height: 1em\n    .after-trigger\n      padding: 19px 0\n\n  .cube-scroll-content\n    position: relative\n    z-index: 1\n\n  .cube-scroll-item\n    height: 60px\n    line-height: 60px\n    font-size: $fontsize-large-x\n    padding-left: 20px\n</style>\n"]}]}